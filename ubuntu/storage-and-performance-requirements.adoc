---
permalink: ubuntu/storage-and-performance-requirements.html 
sidebar: sidebar 
keywords: storage requirements, performance requirements, host storage, host volumes, netapp ontap, fabricpool 
summary: StorageGRID 노드의 스토리지 요구 사항을 이해해야 초기 구성과 향후 스토리지 확장을 지원할 만큼 충분한 공간을 제공할 수 있습니다. 
---
= 저장 및 성능 요구 사항
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
StorageGRID 노드의 스토리지 요구 사항을 이해해야 초기 구성과 향후 스토리지 확장을 지원할 만큼 충분한 공간을 제공할 수 있습니다.

StorageGRID 노드에는 세 가지 논리적 스토리지 범주가 필요합니다.

* *컨테이너 풀* -- StorageGRID 노드를 지원하는 호스트에 Docker를 설치하고 구성할 때 Docker 스토리지 드라이버에 할당되는 노드 컨테이너용 성능 계층(10K SAS 또는 SSD) 스토리지입니다.
* *시스템 데이터* -- 시스템 데이터와 트랜잭션 로그를 노드별로 영구적으로 저장하는 성능 계층(10K SAS 또는 SSD) 스토리지로, StorageGRID 호스트 서비스에서 이를 사용하여 개별 노드에 매핑합니다.
* *객체 데이터* -- 객체 데이터와 객체 메타데이터의 영구 저장을 위한 성능 계층(10K SAS 또는 SSD) 스토리지와 용량 계층(NL-SAS/SATA) 대용량 스토리지입니다.


모든 스토리지 범주에 RAID 지원 블록 장치를 사용해야 합니다.  중복되지 않은 디스크, SSD 또는 JBOD는 지원되지 않습니다.  모든 스토리지 범주에 대해 공유 또는 로컬 RAID 스토리지를 사용할 수 있습니다. 그러나 StorageGRID 의 노드 마이그레이션 기능을 사용하려면 시스템 데이터와 개체 데이터를 모두 공유 스토리지에 저장해야 합니다. 자세한 내용은 다음을 참조하세요. link:node-container-migration-requirements.html["노드 컨테이너 마이그레이션 요구 사항"] .



== 성능 요구 사항

컨테이너 풀, 시스템 데이터, 개체 메타데이터에 사용되는 볼륨의 성능은 시스템의 전반적인 성능에 상당한 영향을 미칩니다.  이러한 볼륨에는 지연 시간, 초당 입출력 작업(IOPS), 처리량 측면에서 적절한 디스크 성능을 보장하는 성능 계층(10K SAS 또는 SSD) 스토리지를 사용해야 합니다.  개체 데이터의 영구 저장을 위해 용량 계층(NL-SAS/SATA) 스토리지를 사용할 수 있습니다.

컨테이너 풀, 시스템 데이터 및 개체 데이터에 사용되는 볼륨에는 쓰기 저장 캐싱이 활성화되어 있어야 합니다.  캐시는 보호된 미디어나 영구 미디어에 있어야 합니다.



== NetApp ONTAP 스토리지를 사용하는 호스트에 대한 요구 사항

StorageGRID 노드가 NetApp ONTAP 시스템에서 할당된 스토리지를 사용하는 경우 볼륨에 FabricPool 계층화 정책이 활성화되어 있지 않은지 확인합니다.  StorageGRID 노드와 함께 사용되는 볼륨에 대해 FabricPool 계층화를 비활성화하면 문제 해결 및 스토리지 작업이 간소화됩니다.


NOTE: StorageGRID 와 관련된 데이터를 StorageGRID 자체로 다시 계층화하는 데 FabricPool 사용하지 마세요.  StorageGRID 데이터를 StorageGRID 로 다시 계층화하면 문제 해결과 운영상의 복잡성이 증가합니다.



== 필요한 호스트 수

각 StorageGRID 사이트에는 최소 3개의 스토리지 노드가 필요합니다.


NOTE: 실제 운영 환경에서는 하나의 물리적 호스트나 가상 호스트에 두 개 이상의 스토리지 노드를 실행하지 마세요.  각 스토리지 노드에 전용 호스트를 사용하면 격리된 장애 도메인이 제공됩니다.

관리 노드나 게이트웨이 노드와 같은 다른 유형의 노드는 동일한 호스트에 배포할 수도 있고, 필요에 따라 전용 호스트에 배포할 수도 있습니다.



== 각 호스트의 저장 볼륨 수

다음 표는 각 호스트에 필요한 스토리지 볼륨(LUN) 수와 각 LUN에 필요한 최소 크기를 보여줍니다. 이는 해당 호스트에 배포될 노드에 따라 달라집니다.

테스트된 최대 LUN 크기는 39TB입니다.


NOTE: 이 숫자는 전체 그리드가 아닌 각 호스트에 대한 숫자입니다.

[cols="1a,1a,2a,2a"]
|===
| LUN 목적 | 저장 카테고리 | LUN 수 | 최소 크기/LUN 


 a| 
컨테이너 엔진 저장 풀
 a| 
컨테이너 풀
 a| 
1
 a| 
총 노드 수 × 100GB



 a| 
`/var/local`용량
 a| 
시스템 데이터
 a| 
이 호스트의 각 노드에 대해 1개
 a| 
90GB



 a| 
저장 노드
 a| 
객체 데이터
 a| 
이 호스트의 각 스토리지 노드에 대해 3개

*참고:* 소프트웨어 기반 스토리지 노드는 1~48개의 스토리지 볼륨을 가질 수 있습니다. 최소 3개의 스토리지 볼륨을 권장합니다.
 a| 
12TB(4TB/LUN) 참조<<storage_req_SN,스토리지 노드에 대한 스토리지 요구 사항>> 자세한 내용은.



 a| 
저장 노드(메타데이터 전용)
 a| 
객체 메타데이터
 a| 
1
 a| 
4TB 참조<<storage_req_SN,스토리지 노드에 대한 스토리지 요구 사항>> 자세한 내용은.

*참고*: 메타데이터 전용 스토리지 노드에는 rangedb가 하나만 필요합니다.



 a| 
관리 노드 감사 로그
 a| 
시스템 데이터
 a| 
이 호스트의 각 관리 노드에 대해 1개
 a| 
200GB



 a| 
관리 노드 테이블
 a| 
시스템 데이터
 a| 
이 호스트의 각 관리 노드에 대해 1개
 a| 
200GB

|===

NOTE: 구성된 감사 수준, S3 개체 키 이름과 같은 사용자 입력 크기, 보존해야 하는 감사 로그 데이터 양에 따라 각 관리 노드에서 감사 로그 LUN 크기를 늘려야 할 수도 있습니다. 일반적으로 그리드는 S3 작업당 약 1KB의 감사 데이터를 생성하는데, 이는 200GB LUN이 2~3일 동안 하루에 7,000만 개의 작업 또는 초당 800개의 작업을 지원할 수 있음을 의미합니다.



== 호스트의 최소 저장 공간

다음 표는 각 노드 유형에 필요한 최소 저장 공간을 보여줍니다.  이 표를 사용하면 호스트에 배포될 노드를 기준으로 각 스토리지 범주에서 호스트에 제공해야 하는 최소 스토리지 양을 결정할 수 있습니다.


NOTE: 디스크 스냅샷을 사용하여 그리드 노드를 복원할 수 없습니다.  대신 다음을 참조하세요.link:../maintain/warnings-and-considerations-for-grid-node-recovery.html["그리드 노드 복구"] 각 노드 유형에 대한 절차입니다.

[cols="1a,1a,1a,1a"]
|===
| 노드 유형 | 컨테이너 풀 | 시스템 데이터 | 객체 데이터 


 a| 
저장 노드
 a| 
100GB
 a| 
90GB
 a| 
4,000GB



 a| 
관리 노드
 a| 
100GB
 a| 
490GB(3개 LUN)
 a| 
_해당 없음_



 a| 
게이트웨이 노드
 a| 
100GB
 a| 
90GB
 a| 
_해당 없음_

|===


== 예: 호스트의 저장 요구 사항 계산

동일한 호스트에 스토리지 노드 하나, 관리 노드 하나, 게이트웨이 노드 하나, 이렇게 세 개의 노드를 배포할 계획이라고 가정해 보겠습니다. 호스트에 최소 9개의 스토리지 볼륨을 제공해야 합니다. 노드 컨테이너의 경우 최소 300GB의 성능 계층 스토리지가 필요하고, 시스템 데이터와 트랜잭션 로그의 경우 670GB의 성능 계층 스토리지가 필요하며, 개체 데이터의 경우 12TB의 용량 계층 스토리지가 필요합니다.

[cols="1a,1a,1a,1a"]
|===
| 노드 유형 | LUN 목적 | LUN 수 | LUN 크기 


 a| 
저장 노드
 a| 
Docker 스토리지 풀
 a| 
1
 a| 
300GB(노드당 100GB)



 a| 
저장 노드
 a| 
`/var/local`용량
 a| 
1
 a| 
90GB



 a| 
저장 노드
 a| 
객체 데이터
 a| 
3
 a| 
12TB(4TB/LUN)



 a| 
관리 노드
 a| 
`/var/local`용량
 a| 
1
 a| 
90GB



 a| 
관리 노드
 a| 
관리 노드 감사 로그
 a| 
1
 a| 
200GB



 a| 
관리 노드
 a| 
관리 노드 테이블
 a| 
1
 a| 
200GB



 a| 
게이트웨이 노드
 a| 
`/var/local`용량
 a| 
1
 a| 
90GB



 a| 
*총*
 a| 
 a| 
*9*
 a| 
*컨테이너 풀:* 300GB

*시스템 데이터:* 670GB

*객체 데이터:* 12,000GB

|===


== 스토리지 노드에 대한 스토리지 요구 사항

소프트웨어 기반 스토리지 노드는 1~48개의 스토리지 볼륨을 가질 수 있으며, 3개 이상의 스토리지 볼륨을 권장합니다. 각 저장 볼륨은 4TB 이상이어야 합니다.


NOTE: 어플라이언스 스토리지 노드는 최대 48개의 스토리지 볼륨을 가질 수 있습니다.

그림에서 볼 수 있듯이 StorageGRID 각 스토리지 노드의 스토리지 볼륨 0에 개체 메타데이터를 위한 공간을 예약합니다.  스토리지 볼륨 0과 스토리지 노드의 다른 스토리지 볼륨에 남아 있는 공간은 객체 데이터에만 사용됩니다.

image::../media/metadata_space_storage_node.png[메타데이터 공간 저장 노드]

중복성을 제공하고 개체 메타데이터의 손실을 방지하기 위해 StorageGRID 각 사이트의 시스템에 있는 모든 개체에 대한 메타데이터 사본을 세 개씩 저장합니다.  개체 메타데이터의 3개 사본은 각 사이트의 모든 스토리지 노드에 균등하게 분산됩니다.

메타데이터 전용 스토리지 노드가 있는 그리드를 설치하는 경우 그리드에는 개체 스토리지를 위한 최소 노드 수도 포함되어야 합니다.  보다link:../primer/what-storage-node-is.html#types-of-storage-nodes["저장 노드 유형"] 메타데이터 전용 스토리지 노드에 대한 자세한 내용은 다음을 참조하세요.

* 단일 사이트 그리드의 경우 최소 두 개의 스토리지 노드가 개체와 메타데이터에 대해 구성됩니다.
* 다중 사이트 그리드의 경우 사이트당 하나 이상의 스토리지 노드가 개체 및 메타데이터에 대해 구성됩니다.


새 스토리지 노드의 볼륨 0에 공간을 할당할 때 모든 개체 메타데이터 중 해당 노드의 부분에 충분한 공간이 있는지 확인해야 합니다.

* 최소한 볼륨 0에 4TB 이상을 할당해야 합니다.
+

NOTE: 스토리지 노드에 스토리지 볼륨을 하나만 사용하고 볼륨에 4TB 이하를 할당하는 경우, 스토리지 노드는 시작 시 스토리지 읽기 전용 상태로 전환되어 개체 메타데이터만 저장할 수 있습니다.

+

NOTE: 볼륨 0(비생산용으로만 사용)에 500GB 미만을 할당하는 경우, 스토리지 볼륨 용량의 10%가 메타데이터에 예약됩니다.

* 소프트웨어 기반 메타데이터 전용 노드 리소스는 기존 스토리지 노드 리소스와 일치해야 합니다. 예를 들어:
+
** 기존 StorageGRID 사이트에서 SG6000 또는 SG6100 어플라이언스를 사용하는 경우 소프트웨어 기반 메타데이터 전용 노드는 다음 최소 요구 사항을 충족해야 합니다.
+
*** 128GB 램
*** 8코어 CPU
*** Cassandra 데이터베이스(rangedb/0)용 8TB SSD 또는 동급 스토리지


** 기존 StorageGRID 사이트가 24GB RAM, 8코어 CPU, 3TB 또는 4TB의 메타데이터 스토리지를 갖춘 가상 스토리지 노드를 사용하는 경우, 소프트웨어 기반 메타데이터 전용 노드는 비슷한 리소스(24GB RAM, 8코어 CPU, 4TB의 메타데이터 스토리지(rangedb/0))를 사용해야 합니다.
+
새로운 StorageGRID 사이트를 추가할 때, 새로운 사이트의 총 메타데이터 용량은 최소한 기존 StorageGRID 사이트와 일치해야 하며, 새로운 사이트 리소스는 기존 StorageGRID 사이트의 스토리지 노드와 일치해야 합니다.



* 새로운 시스템(StorageGRID 11.6 이상)을 설치하고 각 스토리지 노드에 128GB 이상의 RAM이 있는 경우 볼륨 0에 8TB 이상을 할당하세요.  볼륨 0에 더 큰 값을 사용하면 각 스토리지 노드에서 메타데이터에 허용되는 공간을 늘릴 수 있습니다.
* 사이트에 대해 다른 스토리지 노드를 구성할 때 가능하면 볼륨 0에 대해 동일한 설정을 사용하세요.  사이트에 크기가 다른 스토리지 노드가 있는 경우 볼륨 0이 가장 작은 스토리지 노드가 해당 사이트의 메타데이터 용량을 결정합니다.


자세한 내용은 다음을 참조하세요.link:../admin/managing-object-metadata-storage.html["개체 메타데이터 저장소 관리"] .
