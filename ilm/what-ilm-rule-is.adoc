---
permalink: ilm/what-ilm-rule-is.html 
sidebar: sidebar 
keywords: what is information lifecycle rule, ilm rule 
summary: '객체를 관리하려면 정보 수명 주기 관리(ILM) 규칙 세트를 만들고 이를 ILM 정책으로 구성합니다.' 
---
= ILM 규칙을 사용하여 객체를 관리합니다.
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
객체를 관리하려면 정보 수명 주기 관리(ILM) 규칙 세트를 만들고 이를 ILM 정책으로 구성해야 합니다.

시스템에 수집된 모든 객체는 활성 정책에 따라 평가됩니다.  정책의 규칙이 개체의 메타데이터와 일치하면 규칙의 지침에 따라 StorageGRID 해당 개체를 복사하고 저장하기 위해 수행하는 작업이 결정됩니다.


NOTE: 개체 메타데이터는 ILM 규칙에 의해 관리되지 않습니다.  대신, 객체 메타데이터는 메타데이터 저장소라고 알려진 Cassandra 데이터베이스에 저장됩니다.  각 사이트에서는 개체 메타데이터의 사본 3개가 자동으로 유지되어 데이터 손실을 방지합니다.



== ILM 규칙의 요소

ILM 규칙에는 세 가지 요소가 있습니다.

* *필터링 기준*: 규칙의 기본 필터와 고급 필터는 규칙이 적용되는 개체를 정의합니다.  개체가 모든 필터와 일치하는 경우 StorageGRID 규칙을 적용하고 규칙의 배치 지침에 지정된 개체 사본을 만듭니다.
* *배치 지침*: 규칙의 배치 지침은 객체 복사본의 수, 유형 및 위치를 정의합니다.  각 규칙에는 시간이 지남에 따라 객체 복사본의 수, 유형 및 위치를 변경하기 위한 일련의 배치 지침이 포함될 수 있습니다.  한 배치의 기간이 만료되면 다음 배치의 지침은 다음 ILM 평가에 자동으로 적용됩니다.
* *수집 동작*: 규칙의 수집 동작을 통해 규칙에 의해 필터링된 객체가 수집될 때(S3 클라이언트가 객체를 그리드에 저장할 때) 어떻게 보호되는지 선택할 수 있습니다.




== ILM 규칙 필터링

ILM 규칙을 만들 때는 규칙이 적용되는 개체를 식별하기 위한 필터를 지정합니다.

가장 간단한 경우, 규칙은 필터를 전혀 사용하지 않을 수 있습니다.  필터를 사용하지 않는 모든 규칙은 모든 개체에 적용되므로 ILM 정책의 마지막(기본) 규칙이어야 합니다.  기본 규칙은 다른 규칙의 필터와 일치하지 않는 개체에 대한 저장 지침을 제공합니다.

* 기본 필터를 사용하면 크고 고유한 개체 그룹에 다양한 규칙을 적용할 수 있습니다.  이러한 필터를 사용하면 특정 테넌트 계정, 특정 S3 버킷 또는 둘 다에 규칙을 적용할 수 있습니다.
+
기본 필터를 사용하면 많은 수의 객체에 다양한 규칙을 쉽게 적용할 수 있습니다.  예를 들어, 회사의 재무 기록은 규제 요건을 충족하기 위해 저장해야 할 수 있고, 마케팅 부서의 데이터는 일상 업무를 원활하게 하기 위해 저장해야 할 수 있습니다.  각 부서에 대해 별도의 테넌트 계정을 만들거나 여러 부서의 데이터를 별도의 S3 버킷으로 분리한 후, 모든 재무 기록에 적용되는 규칙 하나와 모든 마케팅 데이터에 적용되는 두 번째 규칙을 쉽게 만들 수 있습니다.

* 고급 필터를 사용하면 세부적으로 제어할 수 있습니다.  다음 개체 속성을 기준으로 개체를 선택하기 위한 필터를 만들 수 있습니다.
+
** 섭취 시간
** 마지막 접속 시간
** 객체 이름 전체 또는 일부(키)
** 위치 제약 조건(S3만 해당)
** 객체 크기
** 사용자 메타데이터
** 객체 태그(S3 전용)




매우 구체적인 기준에 따라 객체를 필터링할 수 있습니다.  예를 들어, 병원의 영상 부서에 보관된 객체는 30일 이내에는 자주 사용되고 그 이후에는 거의 사용되지 않을 수 있지만, 환자 방문 정보가 포함된 객체는 의료 네트워크 본사의 청구 부서로 복사해야 할 수 있습니다.  객체 이름, 크기, S3 객체 태그 또는 기타 관련 기준에 따라 각 객체 유형을 식별하는 필터를 만든 다음, 각 객체 세트를 적절하게 저장하기 위한 별도의 규칙을 만들 수 있습니다.

필요에 따라 필터를 단일 규칙으로 결합할 수 있습니다.  예를 들어, 마케팅 부서는 공급업체 기록과 다르게 대용량 이미지 파일을 저장하고 싶어할 수 있고, 인사부는 특정 지역의 인사 기록과 정책 정보를 중앙에 저장해야 할 수 있습니다.  이 경우 각 부서의 레코드를 분리하기 위해 테넌트 계정별로 필터링하는 규칙을 만들 수 있으며, 각 규칙에서 필터를 사용하여 규칙이 적용되는 특정 유형의 객체를 식별할 수 있습니다.



== ILM 규칙 배치 지침

배치 지침은 개체 데이터가 어디에, 언제, 어떻게 저장되는지를 결정합니다.  ILM 규칙에는 하나 이상의 배치 지침이 포함될 수 있습니다.  각 배치 지침은 단일 기간에 적용됩니다.

배치 지침을 생성할 때:

* 먼저 참조 시간을 지정하여 배치 지침이 시작되는 시점을 결정합니다.  참조 시간은 객체가 수집되는 시점, 객체에 액세스하는 시점, 버전이 지정된 객체가 더 이상 유효하지 않게 되는 시점 또는 사용자가 정의한 시간일 수 있습니다.
* 다음으로, 참조 시간을 기준으로 배치가 적용될 시기를 지정합니다.  예를 들어, 배치는 0일부터 시작해서 객체가 수집된 시점을 기준으로 365일 동안 계속될 수 있습니다.
* 마지막으로 사본 유형(복제 또는 삭제 코딩)과 사본을 저장할 위치를 지정합니다.  예를 들어, 두 개의 복제된 사본을 두 개의 다른 사이트에 저장하고 싶을 수 있습니다.


각 규칙은 단일 기간에 대해 여러 배치를 정의할 수 있으며, 다른 기간에 대해 다른 배치를 정의할 수 있습니다.

* 단일 기간 동안 여러 위치에 객체를 배치하려면 *다른 유형 또는 위치 추가*를 선택하여 해당 기간에 대해 두 개 이상의 줄을 추가합니다.
* 객체를 다른 시간대의 다른 위치에 배치하려면 *다른 시간대 추가*를 선택하여 다음 시간대를 추가합니다.  그런 다음, 해당 기간 내의 하나 이상의 줄을 지정합니다.


이 예에서는 ILM 규칙 만들기 마법사의 배치 정의 페이지에 있는 두 개의 배치 지침을 보여줍니다.

image::../media/ilm_rule_multiple_placements_in_single_time_period.png[Grid Manager의 ILM 배치 화면]

첫 번째 배치 지침image:../media/icon_number_1.png["아이콘 번호 1"] 첫 해에는 두 개의 줄이 있습니다.

* 첫 번째 줄은 두 개의 데이터 센터 사이트에 복제된 개체 사본 두 개를 생성합니다.
* 두 번째 줄은 모든 데이터 센터 사이트를 사용하여 6+3 삭제 코드 복사본을 만듭니다.


두 번째 배치 지침image:../media/icon_number_2.png["아이콘 번호 1"] 1년마다 사본을 두 개 만들어 영구 보관합니다.

규칙에 대한 배치 지침 세트를 정의할 때 적어도 하나의 배치 지침이 0일에 시작하는지, 정의한 기간 사이에 간격이 없는지, 최종 배치 지침이 영원히 계속되는지 또는 더 이상 개체 사본이 필요하지 않을 때까지 계속되는지 확인해야 합니다.

규칙의 각 기간이 만료되면 다음 기간에 대한 콘텐츠 배치 지침이 적용됩니다.  새로운 객체 복사본이 생성되고 필요 없는 복사본은 삭제됩니다.



== ILM 규칙 수집 동작

수집 동작은 규칙의 지침에 따라 객체 복사본을 즉시 배치할지, 아니면 임시 복사본을 만들고 나중에 배치 지침을 적용할지 여부를 제어합니다.  ILM 규칙에 대해 사용 가능한 수집 동작은 다음과 같습니다.

* *균형*: StorageGRID 수집 시 ILM 규칙에 지정된 모든 사본을 만들려고 시도합니다. 이것이 불가능한 경우 중간 사본을 만들고 성공 메시지가 클라이언트에게 반환됩니다.  가능한 경우 ILM 규칙에 명시된 사본이 만들어집니다.
* *엄격*: ILM 규칙에 명시된 모든 사본은 클라이언트에게 성공이 반환되기 전에 만들어져야 합니다.
* *이중 커밋*: StorageGRID 즉시 객체의 임시 사본을 만들고 클라이언트에게 성공을 반환합니다.  가능한 경우 ILM 규칙에 명시된 사본이 만들어집니다.


.관련 정보
* link:data-protection-options-for-ingest.html["수집 옵션"]
* link:advantages-disadvantages-of-ingest-options.html["수집 옵션의 장점, 단점 및 제한 사항"]
* link:../s3/consistency-controls.html#how-consistency-controls-and-ILM-rules-interact["일관성과 ILM 규칙이 상호 작용하여 데이터 보호에 영향을 미치는 방식"]




== ILM 규칙 예시

예를 들어, ILM 규칙은 다음을 지정할 수 있습니다.

* 세입자 A의 소유물에만 적용하세요.
* 해당 객체의 복제본을 두 개 만들고 각 사본을 다른 장소에 보관합니다.
* 두 사본을 "영구적으로" 보관합니다. 즉, StorageGRID 자동으로 삭제하지 않습니다.  대신 StorageGRID 클라이언트 삭제 요청이나 버킷 수명 주기 만료로 인해 해당 개체가 삭제될 때까지 해당 개체를 보관합니다.
* 수집 동작에 대해 균형 잡힌 옵션을 사용합니다. 테넌트 A가 StorageGRID 에 객체를 저장하자마자 두 사이트 배치 지침이 적용됩니다. 단, 두 개의 필수 복사본을 즉시 만들 수 없는 경우는 예외입니다.
+
예를 들어, 테넌트 A가 객체를 저장할 때 사이트 2에 접근할 수 없는 경우 StorageGRID 사이트 1의 스토리지 노드에 두 개의 임시 사본을 만듭니다.  사이트 2가 사용 가능해지면 StorageGRID 해당 사이트에 필요한 사본을 만듭니다.



.관련 정보
* link:what-storage-pool-is.html["스토리지 풀이란 무엇입니까?"]
* link:what-cloud-storage-pool-is.html["클라우드 스토리지 풀이란?"]

