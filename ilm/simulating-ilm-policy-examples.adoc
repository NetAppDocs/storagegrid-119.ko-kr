---
permalink: ilm/simulating-ilm-policy-examples.html 
sidebar: sidebar 
keywords: simulate ilm policy 
summary: ILM 정책 시뮬레이션의 예는 사용자 환경에 맞게 시뮬레이션을 구성하고 수정하기 위한 지침을 제공합니다. 
---
= ILM 정책 시뮬레이션 예시
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
ILM 정책 시뮬레이션의 예는 사용자 환경에 맞게 시뮬레이션을 구성하고 수정하기 위한 지침을 제공합니다.



== 예 1: ILM 정책을 시뮬레이션할 때 규칙 확인

이 예제에서는 정책을 시뮬레이션할 때 규칙을 검증하는 방법을 설명합니다.

이 예에서 *예시 ILM 정책*은 두 개의 버킷에 있는 수집된 객체에 대해 시뮬레이션됩니다.  이 정책에는 다음과 같은 세 가지 규칙이 포함됩니다.

* 첫 번째 규칙인 *버킷 a에 대한 2부, 2년*은 버킷 a에 있는 객체에만 적용됩니다.
* 두 번째 규칙인 *EC 객체 > 1MB*는 모든 버킷에 적용되지만 1MB보다 큰 객체를 필터링합니다.
* 세 번째 규칙인 *사본 2개, 데이터 센터 2개*가 기본 규칙입니다.  여기에는 필터가 포함되지 않으며 비현재 참조 시간을 사용하지 않습니다.


정책을 시뮬레이션한 후 각 개체가 올바른 규칙과 일치하는지 확인합니다.

image::../media/simulate_policy_screen.png[정책 결과 시뮬레이션]

이 예에서는:

* `bucket-a/bucket-a object.pdf`첫 번째 규칙과 일치하며 객체를 필터링합니다. `bucket-a` .
* `bucket-b/test object greater than 1 MB.pdf`에 있습니다 `bucket-b` 따라서 첫 번째 규칙과 일치하지 않습니다.  대신 1MB보다 큰 객체를 필터링하는 두 번째 규칙에 따라 올바르게 일치했습니다.
* `bucket-b/test object less than 1 MB.pdf`처음 두 규칙의 필터와 일치하지 않으므로 필터가 포함되지 않은 기본 규칙에 따라 배치됩니다.




== 예 2: ILM 정책을 시뮬레이션할 때 규칙 재정렬

이 예에서는 정책을 시뮬레이션할 때 결과를 변경하기 위해 규칙을 재정렬하는 방법을 보여줍니다.

이 예에서는 *데모* 정책이 시뮬레이션되고 있습니다.  series=x-men 사용자 메타데이터가 있는 객체를 찾기 위한 이 정책에는 다음과 같은 세 가지 규칙이 포함됩니다.

* 첫 번째 규칙인 *PNG*는 다음으로 끝나는 키 이름을 필터링합니다. `.png` .
* 두 번째 규칙인 *X-men*은 테넌트 A에 대한 객체에만 적용되며 필터는 다음과 같습니다. `series=x-men` 사용자 메타데이터.
* 마지막 규칙인 *두 개의 데이터 센터 사본 두 개*는 기본 규칙으로, 처음 두 규칙과 일치하지 않는 모든 개체와 일치합니다.


.단계
. 규칙을 추가하고 정책을 저장한 후 *시뮬레이션*을 선택합니다.
. *객체* 필드에 테스트 객체의 S3 버킷/객체 키를 입력하고 *시뮬레이션*을 선택합니다.
+
시뮬레이션 결과가 나타나며 다음을 보여줍니다. `Havok.png` 객체는 *PNGs* 규칙에 의해 일치되었습니다.

+
image::../media/simulate_reorder_rules_pngs_result.png[예 2: ILM 정책을 시뮬레이션할 때 규칙 재정렬]

+
하지만, `Havok.png` *엑스맨* 규칙을 시험하기 위한 것이었습니다.

. 이 문제를 해결하려면 규칙을 다시 정렬하세요.
+
.. *마침*을 선택하여 ILM 정책 시뮬레이션 창을 닫습니다.
.. 정책을 편집하려면 *편집*을 선택하세요.
.. *X-men* 규칙을 목록 맨 위로 끌어다 놓습니다.
.. *저장*을 선택하세요.


. *시뮬레이션*을 선택하세요.
+
이전에 테스트한 객체를 업데이트된 정책에 맞춰 다시 평가하고, 새로운 시뮬레이션 결과를 표시합니다.  예에서 규칙 일치 열은 다음을 보여줍니다. `Havok.png` 예상대로 객체가 이제 X-men 메타데이터 규칙과 일치합니다.  이전 일치 열은 PNG 규칙이 이전 시뮬레이션의 개체와 일치했음을 보여줍니다.

+
image::../media/simulate_reorder_rules_correct_result.png[예 2: ILM 정책을 시뮬레이션할 때 규칙 재정렬]





== 예 3: ILM 정책을 시뮬레이션할 때 규칙 수정

이 예제에서는 정책을 시뮬레이션하고, 정책의 규칙을 수정하고, 시뮬레이션을 계속하는 방법을 보여줍니다.

이 예에서는 *데모* 정책이 시뮬레이션되고 있습니다.  이 정책은 다음 객체를 찾는 것을 목적으로 합니다. `series=x-men` 사용자 메타데이터.  그러나 이 정책을 시뮬레이션할 때 예상치 못한 결과가 발생했습니다. `Beast.jpg` 물체.  X-men 메타데이터 규칙과 일치하는 대신, 해당 개체는 기본 규칙인 Two가 두 개의 데이터 센터를 복사한다는 규칙과 일치했습니다.

image::../media/simulate_results_for_object_wrong_metadata.png[예제 3: ILM 정책을 시뮬레이션할 때 규칙 수정]

테스트 개체가 정책의 예상 규칙과 일치하지 않는 경우 정책의 각 규칙을 검사하고 오류를 수정해야 합니다.

.단계
. *마침*을 선택하여 정책 시뮬레이션 대화 상자를 닫습니다.  정책의 세부 정보 페이지에서 *보존 다이어그램*을 선택하세요.  그런 다음 필요에 따라 각 규칙에 대해 *모두 확장* 또는 *세부 정보 보기*를 선택합니다.
. 규칙의 테넌트 계정, 참조 시간 및 필터링 기준을 검토합니다.
+
예를 들어, X-men 규칙의 메타데이터가 "x-men" 대신 "x-men01"로 입력되었다고 가정해 보겠습니다.

. 오류를 해결하려면 다음과 같이 규칙을 수정하세요.
+
** 규칙이 정책의 일부인 경우 규칙을 복제하거나 정책에서 규칙을 제거한 다음 편집할 수 있습니다.
** 규칙이 활성 정책의 일부인 경우 규칙을 복제해야 합니다.  활성 정책에서 규칙을 편집하거나 제거할 수 없습니다.


. 시뮬레이션을 다시 수행합니다.
+
이 예에서 수정된 X-men 규칙은 이제 다음과 일치합니다. `Beast.jpg` 기반 객체 `series=x-men` 예상대로 사용자 메타데이터입니다.

+
image::../media/simulate_results_for_object_corrected_metadata.png[예제 3: ILM 정책을 시뮬레이션할 때 규칙 수정]


