---
permalink: maintain/changing-nodes-network-configuration.html 
sidebar: sidebar 
keywords: storagegrid, network configuration, node network configuration 
summary: IP 변경 도구를 사용하여 하나 이상의 노드의 네트워크 구성을 변경할 수 있습니다.  그리드 네트워크의 구성을 변경하거나 관리자 또는 클라이언트 네트워크를 추가, 변경 또는 제거할 수 있습니다. 
---
= 노드 네트워크 구성 변경
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
IP 변경 도구를 사용하여 하나 이상의 노드의 네트워크 구성을 변경할 수 있습니다.  그리드 네트워크의 구성을 변경하거나 관리자 또는 클라이언트 네트워크를 추가, 변경 또는 제거할 수 있습니다.

.시작하기 전에
당신은 가지고있다 `Passwords.txt` 파일.

.이 작업에 관하여
*Linux:* 처음으로 관리 네트워크 또는 클라이언트 네트워크에 그리드 노드를 추가하는 경우, 노드 구성 파일에서 ADMIN_NETWORK_TARGET 또는 CLIENT_NETWORK_TARGET을 구성하지 않았다면 지금 구성해야 합니다.

Linux 운영 체제에 대한 StorageGRID 설치 지침을 참조하세요.

* link:../rhel/index.html["Red Hat Enterprise Linux에 StorageGRID 설치"]
* link:../ubuntu/index.html["Ubuntu 또는 Debian에 StorageGRID 설치"]


*어플라이언스:* StorageGRID 어플라이언스에서 초기 설치 중에 StorageGRID 어플라이언스 설치 프로그램에서 클라이언트 또는 관리 네트워크가 구성되지 않은 경우 IP 변경 도구만으로는 네트워크를 추가할 수 없습니다.  첫째, 당신은해야합니다 https://docs.netapp.com/us-en/storagegrid-appliances/commonhardware/placing-appliance-into-maintenance-mode.html["기기를 유지 관리 모드로 전환하세요"^] , 링크를 구성하고, 어플라이언스를 일반 작동 모드로 되돌린 다음 IP 변경 도구를 사용하여 네트워크 구성을 수정합니다.  를 참조하십시오 https://docs.netapp.com/us-en/storagegrid-appliances/installconfig/configuring-network-links.html["네트워크 링크 구성 절차"^] .

모든 네트워크의 하나 이상의 노드에 대한 IP 주소, 서브넷 마스크, 게이트웨이 또는 MTU 값을 변경할 수 있습니다.

클라이언트 네트워크나 관리 네트워크에서 노드를 추가하거나 제거할 수도 있습니다.

* 해당 네트워크의 IP 주소/서브넷 마스크를 노드에 추가하여 클라이언트 네트워크나 관리 네트워크에 노드를 추가할 수 있습니다.
* 네트워크의 노드에 대한 IP 주소/서브넷 마스크를 삭제하여 클라이언트 네트워크나 관리 네트워크에서 노드를 제거할 수 있습니다.
+
노드는 그리드 네트워크에서 제거될 수 없습니다.




NOTE: IP 주소 교환은 허용되지 않습니다.  그리드 노드 간에 IP 주소를 교환해야 하는 경우 임시 중간 IP 주소를 사용해야 합니다.


NOTE: StorageGRID 시스템에서 SSO(Single Sign-On)가 활성화되어 있고 관리 노드의 IP 주소를 변경하는 경우, 권장하는 대로 정규화된 도메인 이름 대신 관리 노드의 IP 주소를 사용하여 구성된 모든 신뢰 당사자 신뢰가 무효화된다는 점에 유의하세요. 더 이상 노드에 로그인할 수 없습니다. IP 주소를 변경한 직후에는 Active Directory Federation Services(AD FS)에서 노드의 신뢰 당사자 트러스트를 새 IP 주소로 업데이트하거나 재구성해야 합니다. 지침을 참조하세요link:../admin/configuring-sso.html["SSO 구성"] .


NOTE: IP 변경 도구를 사용하여 네트워크에 적용한 모든 변경 사항은 StorageGRID 어플라이언스의 설치 펌웨어에 전파됩니다.  이렇게 하면 StorageGRID 소프트웨어를 어플라이언스에 다시 설치하거나 어플라이언스를 유지 관리 모드로 전환하는 경우 네트워크 구성이 올바르게 유지됩니다.

.단계
. 기본 관리 노드에 로그인합니다.
+
.. 다음 명령을 입력하세요: `ssh admin@_primary_Admin_Node_IP_`
.. 나열된 비밀번호를 입력하세요 `Passwords.txt` 파일.
.. 다음 명령을 입력하여 루트로 전환하세요. `su -`
.. 나열된 비밀번호를 입력하세요 `Passwords.txt` 파일.


+
루트로 로그인하면 프롬프트가 다음과 같이 변경됩니다. `$` 에게 `#` .

. 다음 명령을 입력하여 IP 변경 도구를 시작합니다. `change-ip`
. 프롬프트에 프로비저닝 암호를 입력합니다.
+
메인 메뉴가 나타납니다.

+
image::../media/change_ip_tool_main_menu.png[IP 변경 도구의 시작 화면을 보여주는 스크린샷]

. 선택적으로 *1*을 선택하여 업데이트할 노드를 선택합니다.  그런 다음 다음 옵션 중 하나를 선택하세요.
+
** *1*: 단일 노드 -- 이름으로 선택
** *2*: 단일 노드 -- 사이트별로 선택한 다음 이름으로 선택
** *3*: 단일 노드 -- 현재 IP로 선택
** *4*: 사이트의 모든 노드
** *5*: 그리드의 모든 노드
+
*참고:* 모든 노드를 업데이트하려면 "모두"를 선택한 상태로 두세요.



+
선택을 마치면 메인 메뉴가 나타나고, *선택한 노드* 필드가 선택 사항을 반영하여 업데이트됩니다.  이후의 모든 작업은 표시된 노드에서만 수행됩니다.

. 메인 메뉴에서 옵션 *2*를 선택하여 선택한 노드의 IP/마스크, 게이트웨이, MTU 정보를 편집합니다.
+
.. 변경하려는 네트워크를 선택하세요.
+
--
*** *1*: 그리드 네트워크
*** *2*: 관리자 네트워크
*** *3*: 클라이언트 네트워크
*** *4*: 모든 네트워크


--
+
--
선택을 하면 프롬프트에 노드 이름, 네트워크 이름(그리드, 관리자 또는 클라이언트), 데이터 유형(IP/마스크, 게이트웨이 또는 MTU) 및 현재 값이 표시됩니다.

DHCP로 구성된 인터페이스의 IP 주소, 접두사 길이, 게이트웨이 또는 MTU를 편집하면 인터페이스가 정적으로 변경됩니다.  DHCP로 구성된 인터페이스를 변경하도록 선택하면 인터페이스가 정적으로 변경된다는 경고가 표시됩니다.

인터페이스는 다음과 같이 구성되었습니다. `fixed` 편집할 수 없습니다.

--
.. 새 값을 설정하려면 현재 값에 표시된 형식으로 입력하세요.
.. 현재 값을 변경하지 않으려면 *Enter*를 누르세요.
.. 데이터 유형이 `IP/mask` , *d* 또는 *0.0.0.0/0*을 입력하여 노드에서 관리자 또는 클라이언트 네트워크를 삭제할 수 있습니다.
.. 변경하려는 모든 노드를 편집한 후 *q*를 입력하여 메인 메뉴로 돌아갑니다.
+
변경 사항은 승인되거나 적용될 때까지 보류됩니다.



. 다음 옵션 중 하나를 선택하여 변경 사항을 검토하세요.
+
** *5*: 변경된 항목만 표시하도록 분리된 출력에서 편집 내용을 표시합니다.  변경 사항은 예시 출력에서 표시된 대로 녹색(추가) 또는 빨간색(삭제)으로 강조 표시됩니다.
+
image::../media/change_ip_tool_edit_ip_mask_sample_output.png[주변 텍스트로 설명된 스크린샷]

** *6*: 전체 구성을 표시하는 출력에서 편집 내용을 보여줍니다.  변경 사항은 녹색(추가) 또는 빨간색(삭제)으로 강조 표시됩니다.
+

NOTE: 일부 명령줄 인터페이스에서는 취소선 서식을 사용하여 추가 및 삭제 내용을 표시할 수 있습니다.  적절한 표시는 터미널 클라이언트가 필요한 VT100 이스케이프 시퀀스를 지원하는지에 따라 달라집니다.



. 모든 변경 사항을 확인하려면 옵션 *7*을 선택하세요.
+
이 검증을 통해 중복되는 서브넷을 사용하지 않는 등 그리드, 관리자 및 클라이언트 네트워크에 대한 규칙이 위반되지 않았는지 확인할 수 있습니다.

+
이 예에서는 검증에서 오류가 반환되었습니다.

+
image::../media/change_ip_tool_validate_sample_error_messages.gif[주변 텍스트로 설명된 스크린샷]

+
이 예에서는 검증이 통과되었습니다.

+
image::../media/change_ip_tool_validate_sample_passed_messages.gif[주변 텍스트로 설명된 스크린샷]

. 검증이 통과되면 다음 옵션 중 하나를 선택하세요.
+
** *8*: 적용되지 않은 변경 사항을 저장합니다.
+
이 옵션을 사용하면 적용되지 않은 변경 사항을 잃지 않고 IP 변경 도구를 종료하고 나중에 다시 시작할 수 있습니다.

** *10*: 새로운 네트워크 구성을 적용합니다.


. 옵션 *10*을 선택한 경우 다음 옵션 중 하나를 선택하세요.
+
** *적용*: 변경 사항을 즉시 적용하고 필요한 경우 각 노드를 자동으로 다시 시작합니다.
+
새로운 네트워크 구성에 물리적인 네트워크 변경이 필요하지 않은 경우 *적용*을 선택하여 변경 사항을 즉시 적용할 수 있습니다.  필요한 경우 노드가 자동으로 다시 시작됩니다.  재시작이 필요한 노드가 표시됩니다.

** *단계*: 다음에 노드를 수동으로 다시 시작할 때 변경 사항을 적용합니다.
+
새로운 네트워크 구성이 작동하도록 물리적 또는 가상 네트워킹 구성을 변경해야 하는 경우 *stage* 옵션을 사용하여 영향을 받는 노드를 종료하고, 필요한 물리적 네트워킹 변경을 수행한 다음, 영향을 받는 노드를 다시 시작해야 합니다.  이러한 네트워킹 변경 사항을 먼저 적용하지 않고 *적용*을 선택하면 일반적으로 변경 사항이 실패합니다.

+

NOTE: *스테이지* 옵션을 사용하는 경우 중단을 최소화하기 위해 스테이징 후 가능한 한 빨리 노드를 다시 시작해야 합니다.

** *취소*: 지금은 네트워크를 변경하지 마세요.
+
제안된 변경 사항을 적용하려면 노드를 다시 시작해야 한다는 사실을 몰랐다면, 사용자에게 미치는 영향을 최소화하기 위해 변경 사항을 연기할 수 있습니다.  *취소*를 선택하면 메인 메뉴로 돌아가고 변경 사항이 저장되어 나중에 적용할 수 있습니다.

+
*적용* 또는 *단계*를 선택하면 새로운 네트워크 구성 파일이 생성되고, 프로비저닝이 수행되며, 노드가 새로운 작업 정보로 업데이트됩니다.

+
프로비저닝하는 동안 업데이트가 적용됨에 따라 출력에 상태가 표시됩니다.

+
[listing]
----
Generating new grid networking description file...

Running provisioning...

Updating grid network configuration on Name
----


+
변경 사항을 적용하거나 단계적으로 적용한 후에는 그리드 구성 변경의 결과로 새로운 복구 패키지가 생성됩니다.

. *단계*를 선택한 경우 프로비저닝이 완료된 후 다음 단계를 따르세요.
+
.. 필요한 물리적 또는 가상 네트워킹 변경을 수행합니다.
+
*물리적 네트워크 변경*: 필요한 물리적 네트워크 변경을 수행하고 필요한 경우 노드를 안전하게 종료합니다.

+
*Linux*: 처음으로 관리 네트워크 또는 클라이언트 네트워크에 노드를 추가하는 경우 설명된 대로 인터페이스를 추가했는지 확인하십시오.link:linux-adding-interfaces-to-existing-node.html["Linux: 기존 노드에 인터페이스 추가"] .

.. 영향을 받은 노드를 다시 시작합니다.


. 변경이 완료된 후 IP 변경 도구를 종료하려면 *0*을 선택하세요.
. Grid Manager에서 새로운 복구 패키지를 다운로드하세요.
+
.. *유지관리* > *시스템* > *복구 패키지*를 선택하세요.
.. 프로비저닝 암호를 입력하세요.



