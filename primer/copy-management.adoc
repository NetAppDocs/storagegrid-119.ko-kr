---
permalink: primer/copy-management.html 
sidebar: sidebar 
keywords: object data, ilm policy, ilm rules, replicated copy, replication, erasure-coded copy, ec, cloud storage pool 
summary: 개체 데이터는 활성 ILM 정책과 해당 ILM 규칙에 의해 관리됩니다.  ILM 규칙은 개체 데이터의 손실을 방지하기 위해 복제되거나 삭제된 복사본을 만듭니다. 
---
= 복사 관리
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
개체 데이터는 활성 ILM 정책과 연관된 ILM 규칙에 의해 관리됩니다.  ILM 규칙은 개체 데이터의 손실을 방지하기 위해 복제되거나 삭제된 복사본을 만듭니다.

객체의 수명 주기 중 다른 시점에 따라 다른 유형이나 위치에 객체 사본이 필요할 수 있습니다.  ILM 규칙은 객체가 요구 사항에 따라 배치되었는지 확인하기 위해 주기적으로 평가됩니다.

객체 데이터는 LDR 서비스에서 관리합니다.



== 콘텐츠 보호: 복제

ILM 규칙의 콘텐츠 배치 지침에 개체 데이터의 복제본이 필요한 경우 구성된 스토리지 풀을 구성하는 스토리지 노드에서 복사본을 만들어 디스크에 저장합니다.

LDR 서비스의 ILM 엔진은 복제를 제어하고 올바른 수의 사본이 올바른 위치에 올바른 기간 동안 저장되도록 보장합니다.

image::../media/replication_data_flow.png[주변 텍스트에 설명된 프로세스를 보여주는 다이어그램]

. ILM 엔진은 ILM 규칙에 지정된 스토리지 풀 내에서 최상의 대상 LDR 서비스를 결정하기 위해 ADC 서비스를 쿼리합니다.  그런 다음 해당 LDR 서비스에 복제를 시작하라는 명령을 보냅니다.
. 목적지 LDR 서비스는 최적의 소스 위치를 찾기 위해 ADC 서비스에 쿼리를 보냅니다.  그런 다음 소스 LDR 서비스에 복제 요청을 보냅니다.
. 소스 LDR 서비스는 대상 LDR 서비스로 사본을 보냅니다.
. 대상 LDR 서비스는 ILM 엔진에 개체 데이터가 저장되었음을 알립니다.
. ILM 엔진은 개체 위치 메타데이터로 메타데이터 저장소를 업데이트합니다.




== 콘텐츠 보호: 삭제 코딩

ILM 규칙에 개체 데이터의 삭제 코딩된 복사본을 만드는 지침이 포함된 경우, 적용 가능한 삭제 코딩 방식은 개체 데이터를 데이터 조각과 패리티 조각으로 나누고 삭제 코딩 프로필에 구성된 스토리지 노드에 이러한 조각을 분산합니다.

LDR 서비스의 구성 요소인 ILM 엔진은 삭제 코딩을 제어하고 삭제 코딩 프로필이 개체 데이터에 적용되도록 보장합니다.

image::../media/erasure_coding_data_flow.png[삭제 코딩 데이터 흐름]

. ILM 엔진은 ADC 서비스에 쿼리를 보내 어떤 DDS 서비스가 삭제 코딩 작업을 가장 잘 수행할 수 있는지 확인합니다.  결정되면 ILM 엔진은 해당 서비스에 "시작" 요청을 보냅니다.
. DDS 서비스는 LDR에 객체 데이터의 코드를 지우라고 지시합니다.
. 소스 LDR 서비스는 삭제 코딩을 위해 선택된 LDR 서비스로 사본을 보냅니다.
. 적절한 수의 패리티와 데이터 조각을 만든 후, LDR 서비스는 이러한 조각을 삭제 코딩 프로필의 스토리지 풀을 구성하는 스토리지 노드(청크 서비스)에 분산합니다.
. LDR 서비스는 ILM 엔진에 알림을 보내 개체 데이터가 성공적으로 배포되었음을 확인합니다.
. ILM 엔진은 개체 위치 메타데이터로 메타데이터 저장소를 업데이트합니다.




== 콘텐츠 보호: 클라우드 스토리지 풀

ILM 규칙의 콘텐츠 배치 지침에 따라 개체 데이터의 복제본을 Cloud Storage Pool에 저장해야 하는 경우, 개체 데이터는 Cloud Storage Pool에 지정된 외부 S3 버킷이나 Azure Blob 스토리지 컨테이너에 복제됩니다.

LDR 서비스의 구성 요소인 ILM 엔진과 Data Mover 서비스는 클라우드 스토리지 풀로의 객체 이동을 제어합니다.

image::../media/cloud_storage_pool_data_flow.png[클라우드 스토리지 풀 데이터 흐름]

. ILM 엔진은 클라우드 스토리지 풀에 복제할 Data Mover 서비스를 선택합니다.
. Data Mover 서비스는 객체 데이터를 Cloud Storage Pool로 전송합니다.
. 데이터 무버 서비스는 ILM 엔진에 개체 데이터가 저장되었음을 알립니다.
. ILM 엔진은 개체 위치 메타데이터로 메타데이터 저장소를 업데이트합니다.

