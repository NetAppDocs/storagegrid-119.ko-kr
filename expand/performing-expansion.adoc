---
permalink: expand/performing-expansion.html 
sidebar: sidebar 
keywords: expand, expansion procedure 
summary: 확장을 수행하면 새로운 그리드 노드가 기존 StorageGRID 배포에 추가됩니다. 
---
= 확장을 수행하세요
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
확장을 수행하면 새로운 그리드 노드가 기존 StorageGRID 배포에 추가됩니다.

.시작하기 전에
* 다음을 사용하여 Grid Manager에 로그인했습니다.link:../admin/web-browser-requirements.html["지원되는 웹 브라우저"] .
* 프로비저닝 암호가 있습니다.
* 이 확장팩에 추가되는 모든 그리드 노드를 배포했습니다.
* 당신은 가지고있다link:../admin/admin-group-permissions.html["유지 관리 또는 루트 액세스 권한"] .
* 스토리지 노드를 추가하는 경우 복구의 일부로 수행된 모든 데이터 복구 작업이 완료되었음을 확인한 것입니다. 보다 link:../maintain/checking-data-repair-jobs.html["데이터 복구 작업 확인"] .
* 스토리지 노드를 추가하고 해당 노드에 사용자 정의 스토리지 등급을 지정하려는 경우 이미 다음을 수행했습니다.link:../ilm/creating-and-assigning-storage-grades.html["맞춤형 스토리지 등급을 만들었습니다"] .  또한 루트 액세스 권한이 있거나 유지 관리 및 ILM 권한이 모두 있습니다.
* 새로운 사이트를 추가하는 경우 ILM 규칙을 검토하고 업데이트해야 합니다.  확장이 완료될 때까지 개체 사본이 새 사이트에 저장되지 않도록 해야 합니다.  예를 들어, 규칙이 기본 스토리지 풀(*모든 스토리지 노드*)을 사용하는 경우 다음을 수행해야 합니다.link:../ilm/creating-storage-pool.html["새로운 스토리지 풀을 만듭니다"] 기존 스토리지 노드만 포함하는link:../ilm/working-with-ilm-rules-and-ilm-policies.html["ILM 규칙 업데이트"] 그리고 ILM 정책에 따라 새로운 스토리지 풀을 사용합니다.  그렇지 않으면 해당 사이트의 첫 번째 노드가 활성화되자마자 객체가 새 사이트로 복사됩니다.


.이 작업에 관하여
확장을 수행하려면 다음과 같은 주요 사용자 작업이 필요합니다.

. 확장을 구성합니다.
. 확장을 시작합니다.
. 새로운 복구 패키지 파일을 다운로드합니다.
. 모든 새 노드가 설치 및 구성되고 모든 서비스가 시작될 때까지 확장 단계와 과정을 모니터링합니다.
+

CAUTION: 일부 확장 단계와 단계는 대규모 그리드에서 실행하는 데 상당한 시간이 걸릴 수 있습니다.  예를 들어, Cassandra 데이터베이스가 비어 있으면 Cassandra를 새로운 스토리지 노드로 스트리밍하는 데 몇 분밖에 걸리지 않을 수 있습니다.  하지만 Cassandra 데이터베이스에 많은 양의 개체 메타데이터가 포함되어 있는 경우 이 단계는 몇 시간 이상 걸릴 수 있습니다.  "Cassandra 클러스터 확장" 또는 "Cassandra 시작 및 데이터 스트리밍" 단계 동안에는 어떤 스토리지 노드도 재부팅하지 마세요.



.단계
. *유지관리* > *작업* > *확장*을 선택하세요.
+
그리드 확장 페이지가 나타납니다.  보류 중인 노드 섹션에는 추가할 준비가 된 노드가 나열됩니다.

+
image::../media/grid_expansion_page.png[그리드 확장 페이지를 보여주는 스크린샷]

. *확장 구성*을 선택하세요.
+
사이트 선택 대화 상자가 나타납니다.

. 시작할 확장 유형을 선택하세요:
+
** 새로운 사이트를 추가하는 경우 *새로 만들기*를 선택하고 새 사이트의 이름을 입력하세요.
** 기존 사이트에 하나 이상의 노드를 추가하는 경우 *기존*을 선택하세요.


. *저장*을 선택하세요.
. *보류 중인 노드* 목록을 검토하고 배포한 모든 그리드 노드가 표시되는지 확인합니다.
+
필요에 따라 노드의 *그리드 네트워크 MAC 주소* 위에 커서를 놓으면 해당 노드에 대한 세부 정보를 볼 수 있습니다.

+
image::../media/grid_node_details.png[그리드 노드 세부 정보의 스크린샷]

+

NOTE: 노드가 누락된 경우 성공적으로 배포되었는지 확인하세요.

. 보류 중인 노드 목록에서 이 확장에 추가하려는 노드를 승인합니다.
+
.. 승인하려는 첫 번째 보류 중인 그리드 노드 옆에 있는 라디오 버튼을 선택합니다.
.. *승인*을 선택하세요.
+
그리드 노드 구성 양식이 나타납니다.

.. 필요에 따라 일반 설정을 수정합니다.
+
[cols="1a,2a"]
|===
| 필드 | 설명 


 a| 
대지
 a| 
그리드 노드가 연결될 사이트의 이름입니다.  여러 노드를 추가하는 경우 각 노드에 맞는 올바른 사이트를 선택해야 합니다.  새로운 사이트를 추가하는 경우 모든 노드가 새 사이트에 추가됩니다.



 a| 
이름
 a| 
노드의 시스템 이름입니다. 시스템 이름은 내부 StorageGRID 작업에 필요하며 변경할 수 없습니다.



 a| 
저장 유형(저장 노드만 해당)
 a| 
*** *데이터 및 메타데이터* ("결합"): 객체 데이터 및 메타데이터 저장 노드
*** *데이터 전용*: 객체 데이터만 포함하는 스토리지 노드(메타데이터 없음)
*** *메타데이터 전용*: 메타데이터만 포함하는 스토리지 노드(객체 데이터 없음)




 a| 
NTP 역할
 a| 
그리드 노드의 NTP(네트워크 시간 프로토콜) 역할:

*** 노드에 NTP 역할을 자동으로 할당하려면 *자동*(기본값)을 선택합니다.  기본 역할은 관리 노드, ADC 서비스가 있는 스토리지 노드, 게이트웨이 노드 및 고정 IP 주소가 없는 모든 그리드 노드에 할당됩니다.  다른 모든 그리드 노드에는 클라이언트 역할이 할당됩니다.
*** *기본*을 선택하여 노드에 기본 NTP 역할을 수동으로 할당합니다.  각 사이트에서 최소 두 개의 노드가 외부 타이밍 소스에 대한 중복 시스템 액세스를 제공하는 기본 역할을 가져야 합니다.
*** *클라이언트*를 선택하여 노드에 클라이언트 NTP 역할을 수동으로 할당합니다.




 a| 
ADC 서비스(결합 또는 메타데이터 전용 스토리지 노드)
 a| 
이 스토리지 노드가 관리 도메인 컨트롤러(ADC) 서비스를 실행할지 여부입니다. ADC 서비스는 그리드 서비스의 위치와 가용성을 추적합니다. 각 사이트의 최소 3개 스토리지 노드에는 ADC 서비스가 포함되어야 합니다. 노드가 배포된 후에는 ADC 서비스를 노드에 추가할 수 없습니다.

*** 교체하려는 스토리지 노드에 ADC 서비스가 포함되어 있는 경우 *예*를 선택하세요. 남아 있는 ADC 서비스가 너무 적으면 스토리지 노드를 해제할 수 없으므로, 이를 통해 기존 서비스가 제거되기 전에 새로운 ADC 서비스를 사용할 수 있습니다.
*** *자동*을 선택하면 시스템이 이 노드에 ADC 서비스가 필요한지 여부를 판단합니다.


에 대해 알아보세요link:../maintain/understanding-adc-service-quorum.html["ADC 쿼럼"] .



 a| 
스토리지 등급(결합 또는 데이터 전용 스토리지 노드)
 a| 
*기본* 스토리지 등급을 사용하거나 이 새 노드에 할당하려는 사용자 지정 스토리지 등급을 선택합니다.

ILM 스토리지 풀은 스토리지 등급을 사용하므로 선택에 따라 스토리지 노드에 배치되는 객체가 달라질 수 있습니다.

|===
.. 필요에 따라 그리드 네트워크, 관리 네트워크 및 클라이언트 네트워크의 설정을 수정합니다.
+
*** *IPv4 주소(CIDR)*: 네트워크 인터페이스의 CIDR 네트워크 주소입니다.  예: 172.16.10.100/24
+

NOTE: 노드를 승인하는 동안 그리드 네트워크에서 노드에 중복된 IP 주소가 있는 것을 발견하면 확장을 취소하고 중복되지 않은 IP로 가상 머신이나 어플라이언스를 다시 배포한 다음 확장을 다시 시작해야 합니다.

*** *게이트웨이*: 그리드 노드의 기본 게이트웨이.  예: 172.16.10.1
*** *서브넷(CIDR)*: 관리 네트워크에 대한 하나 이상의 서브네트워크입니다.


.. *저장*을 선택하세요.
+
승인된 그리드 노드는 승인된 노드 목록으로 이동됩니다.

+
*** 승인된 그리드 노드의 속성을 수정하려면 해당 라디오 버튼을 선택하고 *편집*을 선택합니다.
*** 승인된 그리드 노드를 보류 노드 목록으로 다시 이동하려면 해당 라디오 버튼을 선택하고 *재설정*을 선택합니다.
*** 승인된 그리드 노드를 영구적으로 제거하려면 노드의 전원을 끕니다.  그런 다음 라디오 버튼을 선택하고 *제거*를 선택합니다.


.. 승인하려는 보류 중인 각 그리드 노드에 대해 이 단계를 반복합니다.
+

NOTE: 가능하다면 보류 중인 모든 그리드 노트를 승인하고 단일 확장을 수행해야 합니다.  여러 번의 작은 확장을 수행하는 경우 더 많은 시간이 필요합니다.



. 모든 그리드 노드를 승인한 후 *프로비저닝 암호*를 입력하고 *확장*을 선택합니다.
+
몇 분 후, 이 페이지가 업데이트되어 확장 절차의 상태가 표시됩니다.  개별 그리드 노드에 영향을 미치는 작업이 진행 중이면 그리드 노드 상태 섹션에 각 그리드 노드의 현재 상태가 나열됩니다.

+

NOTE: 새 어플라이언스의 "그리드 노드 설치" 단계에서 StorageGRID 어플라이언스 설치 프로그램은 설치가 3단계에서 4단계(설치 완료)로 진행되는 모습을 보여줍니다.  4단계가 완료되면 컨트롤러가 재부팅됩니다.

+
image::../media/grid_expansion_progress.png[이 이미지는 주변 텍스트로 설명됩니다.]

+

NOTE: 사이트 확장에는 새로운 사이트에 맞게 Cassandra를 구성하는 추가 작업이 포함됩니다.

. *복구 패키지 다운로드* 링크가 나타나면 복구 패키지 파일을 다운로드하세요.
+
StorageGRID 시스템의 그리드 토폴로지를 변경한 후에는 가능한 한 빨리 복구 패키지 파일의 업데이트된 사본을 다운로드해야 합니다.  복구 패키지 파일을 사용하면 장애가 발생할 경우 시스템을 복원할 수 있습니다.

+
.. 다운로드 링크를 선택하세요.
.. 프로비저닝 암호를 입력하고 *다운로드 시작*을 선택하세요.
.. 다운로드가 완료되면 다음을 엽니다. `.zip` 파일을 확인하고 다음을 포함한 콘텐츠에 액세스할 수 있는지 확인하세요. `Passwords.txt` 파일.
.. 다운로드한 복구 패키지 파일을 복사합니다.(`.zip` ) 두 개의 안전하고 보안이 유지되는 별도 장소로 이동합니다.
+

CAUTION: 복구 패키지 파일은 StorageGRID 시스템에서 데이터를 얻는 데 사용할 수 있는 암호화 키와 비밀번호가 포함되어 있으므로 보호되어야 합니다.



. 기존 사이트에 스토리지 노드를 추가하거나 사이트를 추가하는 경우 새 그리드 노드에서 서비스가 시작될 때 발생하는 Cassandra 단계를 모니터링합니다.
+

CAUTION: "Cassandra 클러스터 확장" 또는 "Cassandra 시작 및 데이터 스트리밍" 단계 동안에는 어떤 스토리지 노드도 재부팅하지 마세요.  이러한 단계는 새로운 스토리지 노드마다 완료하는 데 수 시간이 걸릴 수 있습니다. 특히 기존 스토리지 노드에 많은 양의 개체 메타데이터가 포함되어 있는 경우 더욱 그렇습니다.

+
[role="tabbed-block"]
====
.스토리지 노드 추가
--
기존 사이트에 스토리지 노드를 추가하는 경우 "Cassandra 시작 및 데이터 스트리밍" 상태 메시지에 표시된 백분율을 검토하세요.

image::../media/grid_expansion_starting_cassandra.png[그리드 확장 > Cassandra 시작 및 데이터 스트리밍]

이 백분율은 사용 가능한 Cassandra 데이터의 총량과 새 노드에 이미 기록된 양을 기반으로 Cassandra 스트리밍 작업이 얼마나 완료되었는지 추정합니다.

--
.사이트 추가
--
새 사이트를 추가하는 경우 다음을 사용하세요. `nodetool status` Cassandra 스트리밍의 진행 상황을 모니터링하고 "Cassandra 클러스터 확장" 단계에서 얼마나 많은 메타데이터가 새 사이트에 복사되었는지 확인합니다.  새로운 사이트의 총 데이터 로드는 현재 사이트의 총 데이터 로드의 약 20% 이내여야 합니다.

--
====
. 모든 작업이 완료되고 *확장 구성* 버튼이 다시 나타날 때까지 확장을 계속 모니터링합니다.


.당신이 완료한 후
추가한 그리드 노드 유형에 따라 추가적인 통합 및 구성 단계를 수행합니다. 보다 link:configuring-expanded-storagegrid-system.html["확장 후 구성 단계"] .
