---
permalink: tenant/grid-federation-clone-keys-with-api.html 
sidebar: sidebar 
keywords: s3 access key, secret key id, account clone, tenant manager api 
summary: 테넌트 계정에 그리드 페더레이션 연결 사용 권한이 있는 경우 테넌트 관리 API를 사용하여 소스 그리드의 테넌트에서 대상 그리드의 테넌트로 S3 액세스 키를 수동으로 복제할 수 있습니다. 
---
= API를 사용하여 S3 액세스 키 복제
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
테넌트 계정에 *그리드 페더레이션 연결 사용* 권한이 있는 경우 테넌트 관리 API를 사용하여 소스 그리드의 테넌트에서 대상 그리드의 테넌트로 S3 액세스 키를 수동으로 복제할 수 있습니다.

.시작하기 전에
* 테넌트 계정에는 *그리드 페더레이션 연결 사용* 권한이 있습니다.
* 그리드 연합 연결의 *연결 상태*는 *연결됨*입니다.
* 테넌트 소스 그리드에서 테넌트 관리자에 로그인했습니다.link:../admin/web-browser-requirements.html["지원되는 웹 브라우저"] .
* 당신은 다음 사용자 그룹에 속해 있습니다.link:tenant-management-permissions.html["자신의 S3 자격 증명 또는 루트 액세스 권한을 관리하세요."] .
* 로컬 사용자에 대한 액세스 키를 복제하는 경우 해당 사용자는 두 그리드에 모두 존재합니다.
+

NOTE: 페더레이션 사용자에 대한 S3 액세스 키를 복제하면 사용자와 S3 액세스 키가 모두 대상 테넌트에 추가됩니다.





== 자신의 액세스 키를 복제하세요

두 그리드에서 동일한 버킷에 액세스해야 하는 경우 고유한 액세스 키를 복제할 수 있습니다.

.단계
. 소스 그리드에서 테넌트 관리자를 사용하여link:creating-your-own-s3-access-keys.html["나만의 액세스 키 만들기"] 그리고 다운로드 `.csv` 파일.
. 테넌트 관리자 상단에서 도움말 아이콘을 선택하고 *API 설명서*를 선택하세요.
. *s3* 섹션에서 다음 엔드포인트를 선택하세요.
+
`POST /org/users/current-user/replicate-s3-access-key`

+
image::../media/grid-federation-post-current-user-replicate.png[자체 액세스 키 복제를 위한 POST 엔드포인트]

. *시도해보기*를 선택하세요.
. *본문* 텍스트 상자에서 *accessKey* 및 *secretAccessKey*에 대한 예제 항목을 다운로드한 *.csv* 파일의 값으로 바꿉니다.
+
각 문자열을 큰따옴표로 묶어 두세요.

+
image::../media/grid-federation-clone-access-key.png[테넌트 관리자 API가 액세스 키를 복제하기 위해 값을 입력합니다.]

. 키가 만료되는 경우 *expires*에 대한 예제 항목을 ISO 8601 데이터 시간 형식의 문자열로 만료 날짜 및 시간으로 바꿉니다(예: `2024-02-28T22:46:33-08:00` ).  키가 만료되지 않으면 *expires* 항목의 값으로 *null*을 입력합니다(또는 *Expires* 줄과 그 앞의 쉼표를 제거합니다).
. *실행*을 선택하세요.
. 서버 응답 코드가 *204*인지 확인하세요. 이는 키가 대상 그리드에 성공적으로 복제되었음을 나타냅니다.




== 다른 사용자의 액세스 키 복제

두 그리드 모두에서 동일한 버킷에 액세스해야 하는 경우 다른 사용자의 액세스 키를 복제할 수 있습니다.

.단계
. 소스 그리드에서 테넌트 관리자를 사용하여link:creating-another-users-s3-access-keys.html["다른 사용자의 S3 액세스 키를 생성합니다."] 그리고 다운로드 `.csv` 파일.
. 테넌트 관리자 상단에서 도움말 아이콘을 선택하고 *API 설명서*를 선택하세요.
. 사용자 ID를 얻습니다.  다른 사용자의 액세스 키를 복제하려면 이 값이 필요합니다.
+
.. *사용자* 섹션에서 다음 엔드포인트를 선택하세요.
+
`GET /org/users`

.. *시도해보기*를 선택하세요.
.. 사용자를 검색할 때 사용할 매개변수를 지정하세요.
.. *실행*을 선택하세요.
.. 복제하려는 키를 가진 사용자를 찾아 *id* 필드에 있는 숫자를 복사합니다.


. *s3* 섹션에서 다음 엔드포인트를 선택하세요.
+
`POST /org/users/{userId}/replicate-s3-access-key`

+
image::../media/grid-federation-post-other-user.png[다른 사용자의 액세스 키를 복제하기 위한 POST 엔드포인트]

. *시도해보기*를 선택하세요.
. *userId* 텍스트 상자에 복사한 사용자 ID를 붙여넣습니다.
. *본문* 텍스트 상자에서 *예시 액세스 키* 및 *비밀 액세스 키*에 대한 예시 항목을 해당 사용자의 *.csv* 파일에 있는 값으로 바꿉니다.
+
문자열 주위에 큰따옴표를 꼭 넣어주세요.

. 키가 만료되는 경우 *expires*에 대한 예제 항목을 ISO 8601 데이터 시간 형식의 문자열로 만료 날짜 및 시간으로 바꿉니다(예: `2023-02-28T22:46:33-08:00` ).  키가 만료되지 않으면 *expires* 항목의 값으로 *null*을 입력합니다(또는 *Expires* 줄과 그 앞의 쉼표를 제거합니다).
. *실행*을 선택하세요.
. 서버 응답 코드가 *204*인지 확인하세요. 이는 키가 대상 그리드에 성공적으로 복제되었음을 나타냅니다.

