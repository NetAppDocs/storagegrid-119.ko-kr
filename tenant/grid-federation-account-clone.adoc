---
permalink: tenant/grid-federation-account-clone.html 
sidebar: sidebar 
keywords: account clone, cloning tenant, grid federation, cross-grid replication 
summary: '테넌트가 그리드 페더레이션 연결을 사용하도록 생성되거나 편집된 경우 해당 테넌트는 한 StorageGRID 시스템(소스 테넌트)에서 다른 StorageGRID 시스템(복제 테넌트)으로 복제됩니다.  테넌트가 복제된 후에는 소스 테넌트에 추가된 모든 그룹과 사용자가 복제 테넌트에 복제됩니다.' 
---
= 테넌트 그룹 및 사용자 복제
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
테넌트가 그리드 페더레이션 연결을 사용하도록 생성되거나 편집된 경우 해당 테넌트는 한 StorageGRID 시스템(소스 테넌트)에서 다른 StorageGRID 시스템(복제 테넌트)으로 복제됩니다.  테넌트가 복제된 후에는 소스 테넌트에 추가된 모든 그룹과 사용자가 복제 테넌트에 복제됩니다.

테넌트가 원래 생성된 StorageGRID 시스템은 테넌트의 _소스 그리드_입니다.  테넌트가 복제되는 StorageGRID 시스템은 테넌트의 _대상 그리드_입니다.  두 테넌트 계정 모두 동일한 계정 ID, 이름, 설명, 저장소 할당량 및 할당된 권한을 갖지만 대상 테넌트에는 처음에는 루트 사용자 비밀번호가 없습니다.  자세한 내용은 다음을 참조하세요.link:../admin/grid-federation-what-is-account-clone.html["계정 복제란 무엇입니까?"] 그리고link:../admin/grid-federation-manage-tenants.html["허가된 세입자 관리"] .

테넌트 계정 정보 복제가 필요합니다.link:../admin/grid-federation-what-is-cross-grid-replication.html["크로스 그리드 복제"] 버킷 객체의.  두 그리드에 동일한 테넌트 그룹과 사용자가 있으면 두 그리드 모두에서 해당 버킷과 개체에 액세스할 수 있습니다.



== 계정 복제를 위한 테넌트 워크플로

테넌트 계정에 *그리드 페더레이션 연결 사용* 권한이 있는 경우 워크플로 다이어그램을 검토하여 그룹, 사용자 및 S3 액세스 키를 복제하기 위해 수행할 단계를 확인하세요.

image::../media/grid-federation-account-clone-workflow-tm.png[계정 복제를 위한 세입자의 워크플로.  다음 텍스트에서는 각 단계를 설명합니다.]

워크플로의 기본 단계는 다음과 같습니다.

.image:https://raw.githubusercontent.com/NetAppDocs/common/main/media/number-1.png["하나"]세입자 Sign in
[role="quick-margin-para"]
소스 그리드(테넌트가 처음 생성된 그리드)에서 테넌트 계정에 Sign in .

.image:https://raw.githubusercontent.com/NetAppDocs/common/main/media/number-2.png["둘"]선택적으로 ID 페더레이션을 구성합니다.
[role="quick-margin-para"]
테넌트 계정에 페더레이션 그룹 및 사용자를 사용할 수 있는 *자체 ID 소스 사용* 권한이 있는 경우, 소스 및 대상 테넌트 계정 모두에 대해 동일한 ID 소스(동일한 설정)를 구성합니다.  두 그리드가 동일한 ID 소스를 사용하지 않는 한 연합 그룹과 사용자를 복제할 수 없습니다. 지침은 다음을 참조하세요.link:using-identity-federation.html["ID 페더레이션 사용"] .

.image:https://raw.githubusercontent.com/NetAppDocs/common/main/media/number-3.png["삼"]그룹 및 사용자 생성
[role="quick-margin-para"]
그룹과 사용자를 만들 때는 항상 테넌트의 소스 그리드에서 시작하세요.  새 그룹을 추가하면 StorageGRID 자동으로 해당 그룹을 대상 그리드에 복제합니다.

[role="quick-margin-list"]
* 전체 StorageGRID 시스템 또는 테넌트 계정에 대해 ID 페더레이션이 구성된 경우link:creating-groups-for-s3-tenant.html["새로운 테넌트 그룹 생성"] ID 소스에서 페더레이션 그룹을 가져와서.


[role="quick-margin-list"]
* ID 페더레이션을 사용하지 않는 경우link:creating-groups-for-s3-tenant.html["새로운 지역 그룹을 만드세요"] 그런 다음link:managing-local-users.html["로컬 사용자 생성"] .


.image:https://raw.githubusercontent.com/NetAppDocs/common/main/media/number-4.png["네"]S3 액세스 키 생성
[role="quick-margin-para"]
당신은 할 수 있습니다link:creating-your-own-s3-access-keys.html["나만의 액세스 키 만들기"] 또는link:creating-another-users-s3-access-keys.html["다른 사용자의 액세스 키 생성"] 소스 그리드나 대상 그리드에서 해당 그리드의 버킷에 액세스합니다.

.image:https://raw.githubusercontent.com/NetAppDocs/common/main/media/number-5.png["다섯"]선택적으로 S3 액세스 키를 복제합니다.
[role="quick-margin-para"]
두 그리드에서 동일한 액세스 키로 버킷에 액세스해야 하는 경우 소스 그리드에서 액세스 키를 만든 다음 테넌트 관리자 API를 사용하여 대상 그리드에 수동으로 복제합니다. 지침은 다음을 참조하세요.link:../tenant/grid-federation-clone-keys-with-api.html["API를 사용하여 S3 액세스 키 복제"] .



== 그룹, 사용자 및 S3 액세스 키는 어떻게 복제되나요?

테넌트 소스 그리드와 테넌트 대상 그리드 간에 그룹, 사용자 및 S3 액세스 키가 복제되는 방식을 이해하려면 이 섹션을 검토하세요.



=== 소스 그리드에서 생성된 로컬 그룹이 복제됩니다.

테넌트 계정이 생성되어 대상 그리드에 복제되면 StorageGRID 테넌트의 소스 그리드에 추가한 모든 로컬 그룹을 테넌트의 대상 그리드에 자동으로 복제합니다.

원본 그룹과 복제본은 모두 동일한 액세스 모드, 그룹 권한 및 S3 그룹 정책을 갖습니다. 지침은 다음을 참조하세요.link:creating-groups-for-s3-tenant.html["S3 테넌트에 대한 그룹 생성"] .

image::../media/grid-federation-account-clone.png[로컬 그룹이 소스 그리드에서 대상 그리드로 복제되는 것을 보여주는 이미지]


NOTE: 소스 그리드에서 로컬 그룹을 생성할 때 선택한 사용자는 그룹이 대상 그리드에 복제될 때 포함되지 않습니다.  이러한 이유로 그룹을 생성할 때 사용자를 선택하지 마세요.  대신, 사용자를 생성할 때 그룹을 선택하세요.



=== 소스 그리드에서 생성된 로컬 사용자는 복제됩니다.

소스 그리드에 새로운 로컬 사용자를 생성하면 StorageGRID 자동으로 해당 사용자를 대상 그리드에 복제합니다. 원래 사용자와 복제본 모두 동일한 전체 이름, 사용자 이름 및 *액세스 거부* 설정을 갖습니다. 두 사용자는 모두 같은 그룹에 속합니다. 지침은 다음을 참조하세요.link:managing-local-users.html["로컬 사용자 관리"] .

보안상의 이유로 로컬 사용자 비밀번호는 대상 그리드에 복제되지 않습니다. 로컬 사용자가 대상 그리드에서 테넌트 관리자에 액세스해야 하는 경우 테넌트 계정의 루트 사용자는 대상 그리드에서 해당 사용자에 대한 비밀번호를 추가해야 합니다. 지침은 다음을 참조하세요.link:managing-local-users.html["로컬 사용자 관리"] .

image::../media/grid-federation-local-user-clone.png[로컬 사용자가 소스 그리드에서 대상 그리드로 복제되는 것을 보여주는 이미지]



=== 소스 그리드에서 생성된 페더레이션 그룹이 복제됩니다.

계정 복제를 사용하기 위한 요구 사항을 가정합니다.link:../admin/grid-federation-what-is-account-clone.html#account-clone-sso["단일 로그인"] 그리고link:../admin/grid-federation-what-is-account-clone.html#account-clone-identity-federation["ID 연합"] 조건이 충족되면 소스 그리드의 테넌트에 대해 생성(가져오기)한 페더레이션 그룹이 대상 그리드의 테넌트에 자동으로 복제됩니다.

두 그룹은 동일한 액세스 모드, 그룹 권한 및 S3 그룹 정책을 갖습니다.

소스 테넌트에 대한 페더레이션 그룹이 생성되어 대상 테넌트에 복제되면 페더레이션 사용자는 두 그리드 중 하나에서 테넌트에 로그인할 수 있습니다.

image::../media/grid-federation-federated-group-clone.png[연합 그룹이 소스 그리드에서 대상 그리드로 복제되는 것을 보여주는 이미지]



=== S3 액세스 키는 수동으로 복제될 수 있습니다.

StorageGRID 각 그리드에 다른 키를 두어 보안을 강화하기 때문에 S3 액세스 키를 자동으로 복제하지 않습니다.

두 그리드에서 액세스 키를 관리하려면 다음 중 하나를 수행하세요.

* 각 그리드에 동일한 키를 사용할 필요가 없는 경우 다음을 수행할 수 있습니다.link:creating-your-own-s3-access-keys.html["나만의 액세스 키 만들기"] 또는link:creating-another-users-s3-access-keys.html["다른 사용자의 액세스 키 생성"] 각 격자마다.
* 두 그리드에서 동일한 키를 사용해야 하는 경우 소스 그리드에서 키를 생성한 다음 Tenant Manager API를 사용하여 수동으로 키를 생성할 수 있습니다.link:../tenant/grid-federation-clone-keys-with-api.html["키를 복제하다"] 목적지 그리드로.


image::../media/grid-federation-s3-access-key.png[S3 액세스 키가 소스 그리드에서 대상 그리드로 선택적으로 복제될 수 있음을 보여주는 이미지]


NOTE: 페더레이션 사용자에 대한 S3 액세스 키를 복제하면 사용자와 S3 액세스 키가 모두 대상 테넌트에 복제됩니다.



=== 대상 그리드에 추가된 그룹 및 사용자는 복제되지 않습니다.

복제는 테넌트의 소스 그리드에서 테넌트의 대상 그리드로만 발생합니다.  테넌트의 대상 그리드에서 그룹 및 사용자를 만들거나 가져오는 경우 StorageGRID 이러한 항목을 테넌트의 소스 그리드로 다시 복제하지 않습니다.

image::../media/grid-federation-account-not-cloned.png[대상 그리드의 세부 정보가 소스 그리드에 복제되지 않았음을 보여주는 이미지]



=== 편집 또는 삭제된 그룹, 사용자 및 액세스 키는 복제되지 않습니다.

복제는 새로운 그룹과 사용자를 생성할 때만 발생합니다.

두 그리드 중 하나에서 그룹, 사용자 또는 액세스 키를 편집하거나 삭제하는 경우 변경 사항은 다른 그리드에 복제되지 않습니다.

image::../media/grid-federation-account-clone-edit-delete.png[편집되거나 삭제된 세부 정보가 복제되지 않음을 보여주는 이미지]
