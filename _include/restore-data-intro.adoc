= 어떤 절차를 사용해야 하나요?
:allow-uri-read: 




== 어떤 절차를 사용해야 하나요?

가능하다면 그리드 관리자의 *볼륨 복원* 페이지를 사용하여 개체 데이터를 복원하세요.

* 볼륨이 *유지 관리* > *볼륨 복원* > *복원할 노드*에 나열된 경우 다음을 사용하여 개체 데이터를 복원합니다.link:../maintain/restoring-volume.html["그리드 관리자의 볼륨 복원 페이지"] .
* 볼륨이 *유지 관리* > *볼륨 복원* > *복원할 노드*에 나열되지 않은 경우 아래 단계에 따라 사용하십시오. `repair-data` 객체 데이터를 복원하는 스크립트입니다.
+
복구된 스토리지 노드에 교체하려는 노드보다 볼륨이 적은 경우 다음을 사용해야 합니다. `repair-data` 스크립트.




NOTE: repair-data 스크립트는 더 이상 사용되지 않으며 향후 릴리스에서 제거될 예정입니다.  가능하면 다음을 사용하세요.link:../maintain/restoring-volume.html["Grid Manager의 볼륨 복원 절차"] .



== 사용하다 `repair-data` 객체 데이터를 복원하는 스크립트

.시작하기 전에
* 복구된 스토리지 노드의 연결 상태가 *연결됨*임을 확인했습니다.image:../media/icon_alert_green_checkmark.png["아이콘 경고 녹색 확인 표시"] 그리드 관리자의 *노드* > *개요* 탭.


.이 작업에 관하여
그리드의 ILM 규칙이 개체 복사본을 사용할 수 있도록 구성되어 있다고 가정하면, 다른 스토리지 노드나 클라우드 스토리지 풀에서 개체 데이터를 복원할 수 있습니다.

다음 사항에 유의하세요.

* ILM 규칙이 복제된 복사본을 하나만 저장하도록 구성되었고 해당 복사본이 실패한 스토리지 볼륨에 있는 경우 해당 개체를 복구할 수 없습니다.
* 객체의 유일한 남은 사본이 Cloud Storage Pool에 있는 경우 StorageGRID 객체 데이터를 복원하기 위해 Cloud Storage Pool 엔드포인트에 여러 요청을 발행해야 합니다.  이 절차를 수행하기 전에 기술 지원팀에 문의하여 복구 기간과 관련 비용을 추산하는 데 도움을 받으세요.




== 에 대하여 `repair-data` 스크립트

개체 데이터를 복원하려면 다음을 실행합니다. `repair-data` 스크립트.  이 스크립트는 개체 데이터 복원 프로세스를 시작하고 ILM 스캐닝과 함께 작동하여 ILM 규칙이 충족되는지 확인합니다.

아래에서 *복제된 데이터* 또는 *삭제 코드화(EC) 데이터*를 선택하여 다양한 옵션을 알아보세요. `repair-data` 복제된 데이터를 복원하는지 아니면 삭제된 데이터를 복원하는지에 따라 스크립트가 달라집니다.  두 가지 유형의 데이터를 모두 복원해야 하는 경우 두 명령 세트를 모두 실행해야 합니다.


NOTE: 자세한 내용은 `repair-data` 스크립트, 입력 `repair-data --help` 기본 관리 노드의 명령줄에서.


NOTE: repair-data 스크립트는 더 이상 사용되지 않으며 향후 릴리스에서 제거될 예정입니다.  가능하면 다음을 사용하세요.link:../maintain/restoring-volume.html["Grid Manager의 볼륨 복원 절차"] .

[role="tabbed-block"]
====
.복제된 데이터
--
복제된 데이터를 복원하는 데 사용할 수 있는 명령은 두 가지입니다. 이는 전체 노드를 복구해야 하는지 아니면 노드의 특정 볼륨만 복구해야 하는지에 따라 달라집니다.

`repair-data start-replicated-node-repair`

`repair-data start-replicated-volume-repair`

다음 명령을 사용하면 복제된 데이터의 복구를 추적할 수 있습니다.

`repair-data show-replicated-repair-status`

--
.삭제 코드(EC) 데이터
--
삭제된 데이터를 복원하기 위해 두 가지 명령을 사용할 수 있습니다. 이는 전체 노드를 복구해야 하는지 아니면 노드의 특정 볼륨만 복구해야 하는지에 따라 달라집니다.

`repair-data start-ec-node-repair`

`repair-data start-ec-volume-repair`

다음 명령을 사용하면 삭제된 데이터의 복구를 추적할 수 있습니다.

`repair-data show-ec-repair-status`


NOTE: 삭제된 데이터의 복구는 일부 스토리지 노드가 오프라인 상태인 동안에도 시작될 수 있습니다.  그러나 삭제된 모든 데이터를 설명할 수 없는 경우 복구를 완료할 수 없습니다.  모든 노드를 사용할 수 있게 되면 복구가 완료됩니다.


NOTE: EC 수리 작업은 일시적으로 많은 양의 저장 공간을 예약합니다.  저장 공간 알림이 발생할 수 있지만, 수리가 완료되면 해결됩니다.  예약에 필요한 저장 공간이 충분하지 않으면 EC 복구 작업이 실패합니다.  EC 복구 작업이 완료되면 작업이 실패했든 성공했든 스토리지 예약이 해제됩니다.

--
====