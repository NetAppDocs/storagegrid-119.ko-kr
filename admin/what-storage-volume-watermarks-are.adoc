---
permalink: admin/what-storage-volume-watermarks-are.html 
sidebar: sidebar 
keywords: what are storage volume watermarks, storage volume soft read-only watermark, storage volume hard read-only watermark, storage volume read-write watermark 
summary: StorageGRID 세 개의 스토리지 볼륨 워터마크를 사용하여 스토리지 노드가 공간이 심각하게 부족해지기 전에 읽기 전용 상태로 안전하게 전환되도록 보장하고, 읽기 전용 상태로 전환된 스토리지 노드가 다시 읽기-쓰기가 가능해지도록 합니다. 
---
= 저장 볼륨 워터마크란 무엇인가요?
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
StorageGRID 세 개의 스토리지 볼륨 워터마크를 사용하여 스토리지 노드가 공간이 심각하게 부족해지기 전에 읽기 전용 상태로 안전하게 전환되도록 보장하고, 읽기 전용 상태로 전환된 스토리지 노드가 다시 읽기-쓰기가 가능해지도록 합니다.

image::../media/storage_volume_watermarks.png[저장 볼륨 워터마크]


NOTE: 저장 볼륨 워터마크는 복제되고 삭제된 개체 데이터에 사용되는 공간에만 적용됩니다.  볼륨 0의 개체 메타데이터에 예약된 공간에 대해 알아보려면 다음으로 이동하세요.link:managing-object-metadata-storage.html["개체 메타데이터 저장소 관리"] .



== 소프트 읽기 전용 워터마크란 무엇입니까?

*저장 볼륨 소프트 읽기 전용 워터마크*는 저장 노드의 객체 데이터에 사용할 수 있는 공간이 가득 차고 있음을 나타내는 첫 번째 워터마크입니다.

스토리지 노드의 각 볼륨에 해당 볼륨의 소프트 읽기 전용 워터마크보다 적은 여유 공간이 있는 경우 스토리지 노드는 _읽기 전용 모드_로 전환됩니다.  읽기 전용 모드는 스토리지 노드가 나머지 StorageGRID 시스템에 읽기 전용 서비스를 광고하지만 보류 중인 모든 쓰기 요청을 이행한다는 것을 의미합니다.

예를 들어, 스토리지 노드의 각 볼륨에 10GB의 소프트 읽기 전용 워터마크가 있다고 가정해 보겠습니다.  각 볼륨의 여유 공간이 10GB 미만이 되면 스토리지 노드는 소프트 읽기 전용 모드로 전환됩니다.



== 하드 읽기 전용 워터마크란 무엇입니까?

*저장 볼륨 하드 읽기 전용 워터마크*는 노드의 객체 데이터에 사용할 수 있는 공간이 가득 차고 있음을 나타내는 다음 워터마크입니다.

볼륨의 여유 공간이 해당 볼륨의 하드 읽기 전용 워터마크보다 작으면 볼륨에 대한 쓰기가 실패합니다.  그러나 다른 볼륨에 대한 쓰기는 해당 볼륨의 여유 공간이 하드 읽기 전용 워터마크보다 작아질 때까지 계속될 수 있습니다.

예를 들어, 스토리지 노드의 각 볼륨에 5GB의 하드 읽기 전용 워터마크가 있다고 가정해 보겠습니다.  각 볼륨의 여유 공간이 5GB 미만이 되면 스토리지 노드는 더 이상 쓰기 요청을 수락하지 않습니다.

하드 읽기 전용 워터마크는 항상 소프트 읽기 전용 워터마크보다 작습니다.



== 읽기-쓰기 워터마크란 무엇인가요?

*저장 볼륨 읽기-쓰기 워터마크*는 읽기 전용 모드로 전환된 스토리지 노드에만 적용됩니다.  노드가 다시 읽기-쓰기가 가능한 시점을 결정합니다.  스토리지 노드의 어떤 스토리지 볼륨의 여유 공간이 해당 볼륨의 읽기-쓰기 워터마크보다 큰 경우, 노드는 자동으로 읽기-쓰기 상태로 전환됩니다.

예를 들어, 스토리지 노드가 읽기 전용 모드로 전환되었다고 가정해 보겠습니다.  또한 각 볼륨에 30GB의 읽기-쓰기 워터마크가 있다고 가정해 보겠습니다.  볼륨의 여유 공간이 30GB로 늘어나면 노드는 다시 읽기-쓰기가 가능해집니다.

읽기-쓰기 워터마크는 항상 소프트 읽기 전용 워터마크와 하드 읽기 전용 워터마크보다 큽니다.



== 저장 볼륨 워터마크 보기

현재 워터마크 설정과 시스템에 최적화된 값을 볼 수 있습니다.  최적화된 워터마크가 사용되지 않는 경우 설정을 조정할 수 있는지 또는 조정해야 하는지 확인할 수 있습니다.

.시작하기 전에
* StorageGRID 11.6 이상으로 업그레이드를 완료했습니다.
* 다음을 사용하여 Grid Manager에 로그인했습니다.link:../admin/web-browser-requirements.html["지원되는 웹 브라우저"] .
* 당신은 가지고있다link:admin-group-permissions.html["루트 액세스 권한"] .




=== 현재 워터마크 설정 보기

그리드 관리자에서 현재 저장소 워터마크 설정을 볼 수 있습니다.

.단계
. *지원* > *기타* > *저장소 워터마크*를 선택하세요.
. 저장소 워터마크 페이지에서 최적화된 값 사용 확인란을 살펴보세요.
+
** 확인란을 선택하면 세 개의 워터마크가 모두 모든 스토리지 노드의 모든 스토리지 볼륨에 대해 최적화됩니다. 이는 스토리지 노드의 크기와 볼륨의 상대적 용량을 기준으로 합니다.
+
이는 기본 설정이며 권장되는 설정입니다.  이 값을 업데이트하지 마세요. 선택적으로 다음을 수행할 수 있습니다.<<view-optimized-storage-watermarks,최적화된 스토리지 워터마크 보기>> .

** 최적화된 값 사용 체크박스가 선택되어 있지 않으면 사용자 지정(최적화되지 않은) 워터마크가 사용됩니다.  사용자 정의 워터마크 설정은 권장하지 않습니다.  지침을 사용하세요link:../troubleshoot/troubleshoot-low-watermark-alert.html["낮은 읽기 전용 워터마크 재정의 경고 문제 해결"] 설정을 조정할 수 있는지 또는 조정해야 하는지 확인합니다.
+
사용자 정의 워터마크 설정을 지정하는 경우 0보다 큰 값을 입력해야 합니다.







=== [[view-optimized-storage-watermarks]]최적화된 스토리지 워터마크 보기

StorageGRID 두 가지 Prometheus 메트릭을 사용하여 스토리지 볼륨 소프트 읽기 전용 워터마크에 대해 계산한 최적화된 값을 보여줍니다.  그리드에서 각 스토리지 노드에 대한 최소 및 최대 최적화 값을 볼 수 있습니다.

. *지원* > *도구* > *측정항목*을 선택하세요.
. Prometheus 섹션에서 Prometheus 사용자 인터페이스에 액세스하는 링크를 선택합니다.
. 권장되는 최소 소프트 읽기 전용 워터마크를 보려면 다음 Prometheus 메트릭을 입력하고 *실행*을 선택하세요.
+
`storagegrid_storage_volume_minimum_optimized_soft_readonly_watermark`

+
마지막 열은 각 스토리지 노드의 모든 스토리지 볼륨에 대한 소프트 읽기 전용 워터마크의 최소 최적화 값을 보여줍니다.  이 값이 스토리지 볼륨 소프트 읽기 전용 워터마크에 대한 사용자 지정 설정보다 큰 경우, 스토리지 노드에 대해 *낮은 읽기 전용 워터마크 재정의* 경고가 트리거됩니다.

. 권장되는 최대 소프트 읽기 전용 워터마크를 보려면 다음 Prometheus 메트릭을 입력하고 *실행*을 선택하세요.
+
`storagegrid_storage_volume_maximum_optimized_soft_readonly_watermark`

+
마지막 열은 각 스토리지 노드의 모든 스토리지 볼륨에 대한 소프트 읽기 전용 워터마크의 최대 최적화 값을 보여줍니다.


