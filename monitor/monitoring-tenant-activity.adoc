---
permalink: monitor/monitoring-tenant-activity.html 
sidebar: sidebar 
keywords: how to monitor tenant activity 
summary: 모든 S3 클라이언트 활동은 StorageGRID 테넌트 계정과 연결됩니다.  Grid Manager를 사용하면 모든 테넌트 또는 특정 테넌트의 스토리지 사용량이나 네트워크 트래픽을 모니터링할 수 있습니다.  감사 로그나 Grafana 대시보드를 사용하면 테넌트가 StorageGRID 사용하는 방법에 대한 더 자세한 정보를 수집할 수 있습니다. 
---
= 세입자 활동 모니터링
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
모든 S3 클라이언트 활동은 StorageGRID 테넌트 계정과 연결됩니다.  Grid Manager를 사용하면 모든 테넌트 또는 특정 테넌트의 스토리지 사용량이나 네트워크 트래픽을 모니터링할 수 있습니다.  감사 로그나 Grafana 대시보드를 사용하면 테넌트가 StorageGRID 사용하는 방법에 대한 더 자세한 정보를 수집할 수 있습니다.

.시작하기 전에
* 다음을 사용하여 Grid Manager에 로그인했습니다.link:../admin/web-browser-requirements.html["지원되는 웹 브라우저"] .
* 당신은 가지고있다link:../admin/admin-group-permissions.html["루트 액세스 또는 테넌트 계정 권한"] .




== 모든 세입자 보기

세입자 페이지는 현재 모든 세입자 계정에 대한 기본 정보를 표시합니다.

.단계
. *임차인*을 선택하세요.
. 세입자 페이지에 표시된 정보를 검토하세요.
+
각 테넌트에 대해 사용된 논리적 공간, 할당량 사용량, 할당량 및 개체 수가 나열됩니다.  테넌트에 대한 할당량이 설정되지 않은 경우 할당량 사용 및 할당량 필드에 대시(&#8212;)가 포함됩니다.

+

NOTE: 사용된 공간 값은 추정치입니다. 이러한 추정치는 수집 타이밍, 네트워크 연결, 노드 상태의 영향을 받습니다.

+
image::../media/tenant_accounts_page.png[세입자 계정 페이지]

. 선택적으로 로그인 링크를 선택하여 테넌트 계정에 로그인합니다.image:../media/icon_tenant_sign_in.png["세입자 로그인 아이콘"] * Sign in/URL 복사* 열에 있습니다.
. 선택적으로 URL 복사 링크를 선택하여 테넌트 로그인 페이지의 URL을 복사합니다.image:../media/icon_tenant_copy_url.png["테넌트 복사 URL 아이콘"] * Sign in/URL 복사* 열에 있습니다.
. 선택적으로 *CSV로 내보내기*를 선택하여 CSV를 보고 내보낼 수 있습니다. `.csv` 모든 테넌트의 사용 값을 포함하는 파일입니다.
+
열거나 저장하라는 메시지가 표시됩니다. `.csv` 파일.

+
내용 `.csv` 파일은 다음 예와 같습니다.

+
image::../media/tenant_accounts_example_csv.png[세입자 계정 예시 .csv]

+
열 수 있습니다 `.csv` 스프레드시트 응용 프로그램에 파일을 저장하거나 자동화에 사용하세요.

. 나열된 개체가 없으면 선택적으로 *작업* > *삭제*를 선택하여 하나 이상의 테넌트를 제거합니다. 보다 link:../admin/deleting-tenant-account.html["테넌트 계정 삭제"] .
+
계정에 버킷이나 컨테이너가 포함되어 있는 경우 테넌트 계정을 제거할 수 없습니다.





== 특정 세입자 보기

특정 세입자에 대한 세부 정보를 볼 수 있습니다.

.단계
. 세입자 페이지에서 세입자 이름을 선택하세요.
+
세입자 세부 정보 페이지가 나타납니다.

+
image::../media/tenant_usage_modal.png[세입자 사용 모달]

. 페이지 상단의 세입자 개요를 검토하세요.
+
세부 정보 페이지의 이 섹션에서는 테넌트의 개체 수, 할당량 사용, 사용된 논리적 공간, 할당량 설정을 포함하여 테넌트에 대한 요약 정보를 제공합니다.

. *공간 분석* 탭에서 *공간 소비* 차트를 검토하세요.
+
이 차트는 모든 테넌트의 S3 버킷에 대한 총 공간 소비량을 보여줍니다.

+
이 테넌트에 대한 할당량이 설정된 경우 사용된 할당량과 남은 할당량이 텍스트로 표시됩니다(예: `85.00 GB of 100 GB used` ).  할당량이 설정되지 않은 경우 테넌트는 무제한 할당량을 가지며 텍스트에는 사용된 공간의 양만 포함됩니다(예: `85.00 GB used` ).  막대형 차트는 각 버킷이나 컨테이너의 할당량 비율을 보여줍니다.  테넌트가 저장 할당량을 1% 이상, 최소 1GB 이상 초과한 경우 차트에 전체 할당량과 초과량이 표시됩니다.

+
막대형 차트 위에 커서를 놓으면 각 버킷이나 컨테이너가 사용하는 저장 공간을 확인할 수 있습니다.  여유 공간 세그먼트 위에 커서를 놓으면 남아 있는 저장 할당량을 확인할 수 있습니다.

+
image::../media/tenant_bucket_space_consumption_GM.png[테넌트 버킷 소비량 막대 차트]

+

CAUTION: 할당량 사용량은 내부 추정에 따른 것이며 경우에 따라 초과될 수 있습니다.  예를 들어, StorageGRID 테넌트가 객체 업로드를 시작할 때 할당량을 확인하고 테넌트가 할당량을 초과한 경우 새로운 수집을 거부합니다.  그러나 StorageGRID 할당량을 초과했는지 판단할 때 현재 업로드 크기를 고려하지 않습니다.  객체가 삭제되면 테넌트는 할당량 사용량이 다시 계산될 때까지 일시적으로 새 객체를 업로드하지 못할 수 있습니다.  할당량 사용량 계산에는 10분 이상 걸릴 수 있습니다.

+

NOTE: 테넌트의 할당량 사용량은 테넌트가 StorageGRID 에 업로드한 총 개체 데이터 양(논리적 크기)을 나타냅니다.  할당량 사용량은 해당 객체와 해당 메타데이터(물리적 크기)의 복사본을 저장하는 데 사용된 공간을 나타내지 않습니다.

+

NOTE: 테넌트가 할당량을 사용하고 있는지 확인하려면 *테넌트 할당량 사용 높음* 알림 규칙을 활성화할 수 있습니다.  이 경고가 활성화되면 테넌트가 할당량의 90%를 사용했을 때 경고가 발생합니다. 지침은 다음을 참조하세요.link:../monitor/editing-alert-rules.html["알림 규칙 편집"] .

. *공간 세부 정보* 탭에서 *버킷 세부 정보*를 검토하세요.
+
이 표에는 테넌트의 S3 버킷이 나열되어 있습니다.  사용된 공간은 버킷이나 컨테이너에 있는 객체 데이터의 총량입니다.  이 값은 ILM 복사본과 개체 메타데이터에 필요한 저장 공간을 나타내지 않습니다.

. 선택적으로 *CSV로 내보내기*를 선택하여 각 버킷이나 컨테이너의 사용량 값이 포함된 .csv 파일을 보고 내보낼 수 있습니다.
+
개별 S3 테넌트의 내용 `.csv` 파일은 다음 예와 같습니다.

+
image::../media/tenant_bucket_details_csv.png[테넌트 버킷 세부 정보 CSV 예시]

+
열 수 있습니다 `.csv` 스프레드시트 응용 프로그램에 파일을 저장하거나 자동화에 사용하세요.

. 선택적으로 *허용된 기능* 탭을 선택하여 테넌트에 대해 활성화된 권한 및 기능 목록을 확인하세요.  보다link:../admin/editing-tenant-account.html["테넌트 계정 편집"] 이러한 설정을 변경해야 하는 경우.
. 테넌트에게 *그리드 페더레이션 연결 사용* 권한이 있는 경우, 선택적으로 *그리드 페더레이션* 탭을 선택하여 연결에 대해 자세히 알아보세요.
+
보다link:../admin/grid-federation-overview.html["그리드 연합이란 무엇인가요?"] 그리고link:../admin/grid-federation-manage-tenants.html["그리드 연합을 위한 허용된 세입자 관리"] .





== 네트워크 트래픽 보기

테넌트에 대한 트래픽 분류 정책이 시행 중인 경우 해당 테넌트의 네트워크 트래픽을 검토하세요.

.단계
. *구성* > *네트워크* > *트래픽 분류*를 선택합니다.
+
트래픽 분류 정책 페이지가 나타나고 기존 정책이 표에 나열됩니다.

. 특정 세입자에게 적용되는 정책을 파악하려면 정책 목록을 검토하세요.
. 정책과 관련된 지표를 보려면 정책 왼쪽에 있는 라디오 버튼을 선택하고 *지표*를 선택하세요.
. 그래프를 분석하여 정책이 트래픽을 얼마나 자주 제한하는지, 그리고 정책을 조정해야 하는지 확인하세요.


보다 link:../admin/managing-traffic-classification-policies.html["트래픽 분류 정책 관리"] 자세한 내용은.



== 감사 로그를 사용하세요

선택적으로 감사 로그를 사용하여 테넌트 활동을 보다 세부적으로 모니터링할 수 있습니다.

예를 들어, 다음과 같은 유형의 정보를 모니터링할 수 있습니다.

* PUT, GET 또는 DELETE와 같은 특정 클라이언트 작업
* 객체 크기
* 객체에 적용된 ILM 규칙
* 클라이언트 요청의 소스 IP


감사 로그는 사용자가 선택한 로그 분석 도구를 사용하여 분석할 수 있는 텍스트 파일에 기록됩니다.  이를 통해 고객 활동을 더 잘 이해하거나 정교한 환불 및 청구 모델을 구현할 수 있습니다.

보다 link:../audit/index.html["감사 로그 검토"] 자세한 내용은.



== Prometheus 메트릭 사용

선택적으로 Prometheus 메트릭을 사용하여 테넌트 활동을 보고합니다.

* 그리드 관리자에서 *지원* > *도구* > *메트릭*을 선택합니다. S3 개요와 같은 기존 대시보드를 사용하여 클라이언트 활동을 검토할 수 있습니다.
+

NOTE: 메트릭 페이지에서 제공되는 도구는 주로 기술 지원팀에서 사용하도록 고안되었습니다.  이러한 도구 내의 일부 기능과 메뉴 항목은 의도적으로 작동하지 않습니다.

* 그리드 관리자 상단에서 도움말 아이콘을 선택하고 *API 설명서*를 선택하세요.  Grid Management API의 메트릭 섹션에 있는 메트릭을 사용하여 테넌트 활동에 대한 사용자 지정 알림 규칙과 대시보드를 만들 수 있습니다.


보다 link:reviewing-support-metrics.html["지원 지표 검토"] 자세한 내용은.
