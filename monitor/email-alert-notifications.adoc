---
permalink: monitor/email-alert-notifications.html 
sidebar: sidebar 
keywords: how to disable alert rules, how to remove a custom alert rule 
summary: 경고가 발생할 때 이메일 알림을 받으려면 SMTP 서버에 대한 정보를 제공해야 합니다.  또한 알림 수신자의 이메일 주소도 입력해야 합니다. 
---
= 알림에 대한 이메일 알림 설정
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
경고가 발생할 때 이메일 알림을 받으려면 SMTP 서버에 대한 정보를 제공해야 합니다.  또한 알림 수신자의 이메일 주소도 입력해야 합니다.

.시작하기 전에
* 다음을 사용하여 Grid Manager에 로그인했습니다.link:../admin/web-browser-requirements.html["지원되는 웹 브라우저"] .
* 당신은 가지고있다link:../admin/admin-group-permissions.html["알림 또는 루트 액세스 권한 관리"] .


.이 작업에 관하여
알림에 사용되는 이메일 설정은 AutoSupport 패키지에는 사용되지 않습니다.  하지만 모든 알림에 동일한 이메일 서버를 사용할 수 있습니다.

StorageGRID 배포에 여러 관리 노드가 포함된 경우 기본 관리 노드는 경고 알림, AutoSupport 패키지, SNMP 트랩 및 정보를 보내는 기본 발신자입니다.  기본 관리 노드를 사용할 수 없게 되면 다른 관리 노드에서 일시적으로 알림을 보냅니다. 보다 link:../primer/what-admin-node-is.html["관리 노드란 무엇인가요?"] .

.단계
. *알림* > *이메일 설정*을 선택하세요.
+
이메일 설정 페이지가 나타납니다.

. 경고가 구성된 임계값에 도달하면 알림 이메일을 보내도록 하려면 *이메일 알림 사용* 확인란을 선택합니다.
+
이메일(SMTP) 서버, 전송 계층 보안(TLS), 이메일 주소 및 필터 섹션이 나타납니다.

. 이메일(SMTP) 서버 섹션에서 StorageGRID SMTP 서버에 액세스하는 데 필요한 정보를 입력합니다.
+
SMTP 서버에 인증이 필요한 경우 사용자 이름과 비밀번호를 모두 제공해야 합니다.

+
[cols="1a,2a"]
|===
| 필드 | 입력하다 


 a| 
메일 서버
 a| 
SMTP 서버의 정규화된 도메인 이름(FQDN) 또는 IP 주소입니다.



 a| 
포트
 a| 
SMTP 서버에 접속하는 데 사용되는 포트입니다.  1~65535 사이여야 합니다.



 a| 
사용자 이름(선택 사항)
 a| 
SMTP 서버에 인증이 필요한 경우 인증에 사용할 사용자 이름을 입력하세요.



 a| 
비밀번호(선택사항)
 a| 
SMTP 서버에 인증이 필요한 경우 인증에 사용할 비밀번호를 입력하세요.

|===
. 이메일 주소 섹션에서 보낸 사람과 각 수신자의 이메일 주소를 입력합니다.
+
.. *발신자 이메일 주소*에 알림의 발신자 주소로 사용할 유효한 이메일 주소를 지정하세요.
+
예:  `storagegrid-alerts@example.com`

.. 수신자 섹션에서 알림이 발생할 때 이메일을 받아야 하는 각 이메일 목록이나 사람의 이메일 주소를 입력합니다.
+
플러스 아이콘을 선택하세요image:../media/icon_plus_sign_black_on_white.gif["플러스 아이콘"] 수신자를 추가하려면.



. SMTP 서버와 통신하는 데 TLS(전송 계층 보안)가 필요한 경우 TLS(전송 계층 보안) 섹션에서 *TLS 필요*를 선택합니다.
+
.. *CA 인증서* 필드에 SMTP 서버의 신원을 확인하는 데 사용될 CA 인증서를 입력합니다.
+
이 필드에 내용을 복사하여 붙여넣거나, *찾아보기*를 선택하여 파일을 선택할 수 있습니다.

+
각 중간 발급 인증 기관(CA)의 인증서가 포함된 단일 파일을 제공해야 합니다.  해당 파일에는 PEM으로 인코딩된 CA 인증서 파일이 각각 포함되어 있어야 하며, 인증서 체인 순서대로 연결되어 있어야 합니다.

.. SMTP 이메일 서버에서 이메일 발신자가 인증을 위해 클라이언트 인증서를 제공하도록 요구하는 경우 *클라이언트 인증서 보내기* 확인란을 선택합니다.
.. *클라이언트 인증서* 필드에 SMTP 서버로 보낼 PEM으로 인코딩된 클라이언트 인증서를 입력합니다.
+
이 필드에 내용을 복사하여 붙여넣거나, *찾아보기*를 선택하여 파일을 선택할 수 있습니다.

.. *개인 키* 필드에 암호화되지 않은 PEM 인코딩으로 클라이언트 인증서의 개인 키를 입력합니다.
+
이 필드에 내용을 복사하여 붙여넣거나, *찾아보기*를 선택하여 파일을 선택할 수 있습니다.

+

NOTE: 이메일 설정을 편집해야 하는 경우 연필 아이콘을 선택하세요.image:../media/icon_edit_tm.png["편집 아이콘"] 이 필드를 업데이트합니다.



. 필터 섹션에서 특정 알림에 대한 규칙이 해제되지 않은 경우, 이메일 알림을 발생시킬 알림 심각도 수준을 선택합니다.
+
[cols="1a,2a"]
|===
| 심각성 | 설명 


 a| 
사소한, 중요한, 중요한
 a| 
알림 규칙에 대한 사소한, 심각한 또는 심각한 조건이 충족되면 이메일 알림이 전송됩니다.



 a| 
주요, 중요
 a| 
알림 규칙에 대한 주요 또는 중요 조건이 충족되면 이메일 알림이 전송됩니다.  사소한 알림에는 알림이 전송되지 않습니다.



 a| 
중요사항만
 a| 
이메일 알림은 알림 규칙에 대한 중요 조건이 충족될 때만 전송됩니다.  사소한 경고나 중요한 경고에 대해서는 알림이 전송되지 않습니다.

|===
. 이메일 설정을 테스트할 준비가 되면 다음 단계를 수행하세요.
+
.. *테스트 이메일 보내기*를 선택하세요.
+
테스트 이메일이 전송되었다는 확인 메시지가 나타납니다.

.. 모든 이메일 수신자의 받은 편지함을 확인하고 테스트 이메일이 수신되었는지 확인하세요.
+

NOTE: 몇 분 이내에 이메일을 받지 못하거나 *이메일 알림 실패* 경고가 발생하면 설정을 확인하고 다시 시도하세요.

.. 다른 관리 노드에 Sign in 테스트 이메일을 보내 모든 사이트의 연결을 확인하세요.
+

NOTE: 알림 알림을 테스트할 때는 모든 관리 노드에 로그인하여 연결 상태를 확인해야 합니다.  이는 모든 관리 노드가 테스트 이메일을 보내는 AutoSupport 패키지 테스트와는 대조적입니다.



. *저장*을 선택하세요.
+
테스트 이메일을 보내도 설정은 저장되지 않습니다.  *저장*을 선택해야 합니다.

+
이메일 설정이 저장됩니다.





== 알림 이메일에 포함된 정보

SMTP 이메일 서버를 구성한 후, 알림 규칙이 알림 없음으로 억제되지 않는 한 알림이 발생할 때 지정된 수신자에게 이메일 알림이 전송됩니다. 보다 link:silencing-alert-notifications.html["알림음 끄기"] .

이메일 알림에는 다음 정보가 포함됩니다.

image::../media/alerts_email_notification.png[알림 이메일 알림]

[cols="1a,6a"]
|===
| 호출 | 설명 


 a| 
1
 a| 
알림의 이름과 해당 알림의 활성 인스턴스 수입니다.



 a| 
2
 a| 
경고에 대한 설명입니다.



 a| 
3
 a| 
경고에 대한 권장 조치가 있나요?



 a| 
4
 a| 
영향을 받은 노드와 사이트, 경고 심각도, 경고 규칙이 트리거된 UTC 시간, 영향을 받은 작업 및 서비스의 이름을 포함하여 경고의 각 활성 인스턴스에 대한 세부 정보입니다.



 a| 
5
 a| 
알림을 보낸 관리 노드의 호스트 이름입니다.

|===


== 알림이 그룹화되는 방식

알림이 발생할 때 과도한 수의 이메일 알림이 전송되는 것을 방지하기 위해 StorageGRID 동일한 알림에 여러 알림을 그룹화하려고 시도합니다.

StorageGRID 이메일 알림에서 여러 알림을 어떻게 그룹화하는지에 대한 예는 다음 표를 참조하세요.

[cols="1a,1a"]
|===
| 행동 | 예 


 a| 
각 알림은 동일한 이름을 가진 알림에만 적용됩니다.  이름이 다른 두 개의 알림이 동시에 발생하면 두 개의 이메일 알림이 전송됩니다.
 a| 
* 경고 A는 두 노드에서 동시에 발생합니다.  알림은 한 번만 전송됩니다.
* 경고 A는 노드 1에서 발생하고, 경고 B는 노드 2에서 동시에 발생합니다.  각 경고에 대해 하나씩, 총 두 개의 알림이 전송됩니다.




 a| 
특정 노드에 대한 특정 경고의 경우, 심각도에 대한 임계값에 두 개 이상 도달하면 가장 심각한 경고에 대한 알림만 전송됩니다.
 a| 
* 경보 A가 발동되고 경미한 경보, 심각한 경보, 심각한 경보 임계값에 도달합니다.  중요 경보가 발생하면 알림이 한 번 전송됩니다.




 a| 
처음으로 알림이 발생하면 StorageGRID 알림을 보내기 전에 2분을 기다립니다.  해당 시간 동안 동일한 이름의 다른 알림이 발생하면 StorageGRID 모든 알림을 초기 알림에 그룹화합니다.
 a| 
. 경보 A는 오전 8시에 노드 1에서 발생합니다.  알림이 전송되지 않습니다.
. 경보 A는 08:01에 노드 2에서 발생합니다.  알림이 전송되지 않습니다.
. 08:02에 두 가지 경고 사례를 보고하는 알림이 전송됩니다.




 a| 
같은 이름의 다른 알림이 발생하면 StorageGRID 새 알림을 보내기 전에 10분을 기다립니다.  새로운 알림에서는 이전에 보고된 알림을 포함하여 모든 활성 알림(현재 해제되지 않은 알림)을 보고합니다.
 a| 
. 경보 A는 오전 8시에 노드 1에서 발생합니다.  08:02에 알림이 전송됩니다.
. 경보 A는 08:05에 노드 2에서 발생합니다.  두 번째 알림은 08:15(10분 후)에 전송됩니다.  두 노드가 모두 보고되었습니다.




 a| 
동일한 이름의 현재 알림이 여러 개 있고 그 알림 중 하나가 해결된 경우, 알림이 해결된 노드에서 알림이 다시 발생하면 새 알림이 전송되지 않습니다.
 a| 
. 노드 1에 대해 경고 A가 발생합니다.  알림이 전송됩니다.
. 노드 2에 대해 경고 A가 발생합니다.  두 번째 알림이 전송됩니다.
. 경고 A는 노드 2에서는 해결되지만 노드 1에서는 활성 상태로 유지됩니다.
. 노드 2에 대해 경고 A가 다시 발생합니다.  노드 1에 대한 경고가 여전히 활성화되어 있으므로 새로운 알림이 전송되지 않습니다.




 a| 
StorageGRID 모든 알림 인스턴스가 해결되거나 알림 규칙이 해제될 때까지 7일에 한 번씩 이메일 알림을 계속 보냅니다.
 a| 
. 3월 8일에 노드 1에 대한 경고 A가 발동됩니다.  알림이 전송됩니다.
. 경고 A는 해결되지 않았거나 침묵 상태입니다.  추가 알림은 3월 15일, 3월 22일, 3월 29일 등에 전송됩니다.


|===


== 알림 이메일 문제 해결

*이메일 알림 실패* 경고가 발생하거나 테스트 경고 이메일 알림을 받을 수 없는 경우, 다음 단계에 따라 문제를 해결하세요.

.시작하기 전에
* 다음을 사용하여 Grid Manager에 로그인했습니다.link:../admin/web-browser-requirements.html["지원되는 웹 브라우저"] .
* 당신은 가지고있다link:../admin/admin-group-permissions.html["알림 또는 루트 액세스 권한 관리"] .


.단계
. 설정을 확인하세요.
+
.. *알림* > *이메일 설정*을 선택하세요.
.. 이메일(SMTP) 서버 설정이 올바른지 확인하세요.
.. 수신자의 유효한 이메일 주소를 지정했는지 확인하세요.


. 스팸 필터를 확인하고 이메일이 스팸 폴더로 전송되지 않았는지 확인하세요.
. 이메일 관리자에게 해당 발신자 주소의 이메일이 차단되지 않았는지 확인해 보세요.
. 관리 노드에 대한 로그 파일을 수집한 다음 기술 지원팀에 문의하세요.
+
기술 지원팀은 로그에 있는 정보를 사용하여 무엇이 잘못되었는지 확인하는 데 도움이 될 수 있습니다.  예를 들어, prometheus.log 파일에 지정한 서버에 연결할 때 오류가 표시될 수 있습니다.

+
보다 link:collecting-log-files-and-system-data.html["로그 파일 및 시스템 데이터 수집"] .


