---
permalink: monitor/creating-custom-alert-rules.html 
sidebar: sidebar 
keywords: how to create custom alert rules 
summary: 사용자 지정 알림 규칙을 만들어서 알림을 트리거하기 위한 조건을 직접 정의할 수 있습니다. 
---
= 사용자 정의 알림 규칙 만들기
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
사용자 지정 알림 규칙을 만들어서 알림을 트리거하기 위한 조건을 직접 정의할 수 있습니다.

.시작하기 전에
* 다음을 사용하여 Grid Manager에 로그인했습니다.link:../admin/web-browser-requirements.html["지원되는 웹 브라우저"] .
* 당신은 가지고있다link:../admin/admin-group-permissions.html["알림 또는 루트 액세스 권한 관리"] .
* 당신은 ~에 익숙합니다link:commonly-used-prometheus-metrics.html["일반적으로 사용되는 Prometheus 메트릭"] .
* 당신은 이해합니다 https://prometheus.io/docs/prometheus/latest/querying/basics/["Prometheus 쿼리 구문"^] .
* 선택적으로 비디오를 시청했습니다. https://netapp.hosted.panopto.com/Panopto/Pages/Viewer.aspx?id=54af90c4-9a38-4136-9621-b1ff008604a3["비디오: 사용자 정의 알림"^] .
+
[link=https://netapp.hosted.panopto.com/Panopto/Pages/Viewer.aspx?id=54af90c4-9a38-4136-9621-b1ff008604a3]
image::../media/video-screenshot-alert-create-custom-118.png[비디오: 사용자 정의 알림]



.이 작업에 관하여
StorageGRID 사용자 정의 알림의 유효성을 검사하지 않습니다.  사용자 지정 알림 규칙을 만들기로 결정한 경우 다음 일반 지침을 따르세요.

* 기본 알림 규칙의 조건을 살펴보고, 이를 사용자 지정 알림 규칙의 예로 활용하세요.
* 알림 규칙에 대해 두 개 이상의 조건을 정의하는 경우 모든 조건에 동일한 표현식을 사용합니다.  그런 다음 각 조건에 대한 임계값을 변경합니다.
* 각 조건에 오타와 논리적 오류가 있는지 주의 깊게 확인하세요.
* Grid Management API에 나열된 메트릭만 사용하세요.
* Grid Management API를 사용하여 표현식을 테스트할 때 "성공" 응답은 빈 응답 본문(경고가 트리거되지 않음)일 수 있다는 점에 유의하세요.  알림이 실제로 발생했는지 확인하려면 현재 참일 것으로 예상되는 값에 임시로 임계값을 설정할 수 있습니다.
+
예를 들어, 표현식을 테스트하려면 `node_memory_MemTotal_bytes < 24000000000` , 먼저 실행 `node_memory_MemTotal_bytes >= 0` 예상한 결과가 나오는지 확인하세요(모든 노드가 값을 반환합니다).  그런 다음 연산자와 임계값을 원래 값으로 변경하고 다시 실행합니다.  결과가 없습니다. 이는 현재 이 표현에 대한 알림이 없음을 나타냅니다.

* 예상대로 알림이 트리거되는지 검증하지 않았다면 사용자 지정 알림이 작동한다고 가정하지 마세요.


.단계
. *알림* > *규칙*을 선택하세요.
+
알림 규칙 페이지가 나타납니다.

. *사용자 지정 규칙 만들기*를 선택합니다.
+
사용자 지정 규칙 만들기 대화 상자가 나타납니다.

+
image::../media/alerts_create_custom_rule.png[알림 > 사용자 지정 규칙 만들기]

. 이 알림 규칙이 현재 활성화되어 있는지 확인하려면 *활성화* 확인란을 선택하거나 선택 취소합니다.
+
알림 규칙이 비활성화되면 해당 표현식은 평가되지 않고 알림이 트리거되지 않습니다.

. 다음 정보를 입력하세요:
+
[cols="1a,2a"]
|===
| 필드 | 설명 


 a| 
고유 이름
 a| 
이 규칙에 대한 고유한 이름입니다.  알림 규칙 이름은 알림 페이지에 표시되며 이메일 알림의 제목이기도 합니다.  알림 규칙의 이름은 1~64자까지 가능합니다.



 a| 
설명
 a| 
발생하고 있는 문제에 대한 설명입니다.  설명은 알림 페이지와 이메일 알림에 표시되는 알림 메시지입니다.  알림 규칙에 대한 설명은 1~128자까지 가능합니다.



 a| 
권장 작업
 a| 
선택적으로, 이 경고가 발생할 때 취해야 할 권장 조치입니다.  권장되는 작업을 일반 텍스트로 입력하세요(서식 코드 없음).  알림 규칙에 권장되는 작업은 0~1,024자까지 가능합니다.

|===
. 조건 섹션에서 하나 이상의 경고 심각도 수준에 대한 Prometheus 표현식을 입력합니다.
+
기본 표현식은 일반적으로 다음과 같은 형식을 갖습니다.

+
`[metric] [operator] [value]`

+
표현식의 길이는 제한이 없지만 사용자 인터페이스에서는 한 줄로 표시됩니다.  최소한 하나의 표현이 필요합니다.

+
이 표현식은 노드에 설치된 RAM 용량이 24,000,000,000바이트(24GB) 미만인 경우 경고가 발생하도록 합니다.

+
`node_memory_MemTotal_bytes < 24000000000`

+
사용 가능한 메트릭을 보고 Prometheus 표현식을 테스트하려면 도움말 아이콘을 선택하세요.image:../media/icon_nms_question.png["물음표 아이콘"] 그리고 Grid Management API의 메트릭 섹션으로 가는 링크를 따르세요.

. *기간* 필드에 경고가 발생하기 전에 조건이 지속적으로 유효 상태를 유지해야 하는 시간을 입력하고 시간 단위를 선택합니다.
+
조건이 참이 되면 즉시 알림을 트리거하려면 *0*을 입력합니다.  일시적인 조건으로 인해 경고가 발생하는 것을 방지하려면 이 값을 늘리세요.

+
기본값은 5분입니다.

. *저장*을 선택하세요.
+
대화 상자가 닫히고 새 사용자 지정 알림 규칙이 알림 규칙 표에 나타납니다.


